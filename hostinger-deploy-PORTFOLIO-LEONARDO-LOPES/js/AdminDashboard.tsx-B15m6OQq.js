var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,l=(e,a)=>{for(var s in a||(a={}))r.call(a,s)&&i(e,s,a[s]);if(t)for(var s of t(a))n.call(a,s)&&i(e,s,a[s]);return e},o=(e,t)=>a(e,s(t)),c=(e,a)=>{var s={};for(var i in e)r.call(e,i)&&a.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&t)for(var i of t(e))a.indexOf(i)<0&&n.call(e,i)&&(s[i]=e[i]);return s},d=(e,a,s)=>new Promise(((t,r)=>{var n=e=>{try{l(s.next(e))}catch(a){r(a)}},i=e=>{try{l(s.throw(e))}catch(a){r(a)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,i);l((s=s.apply(e,a)).next())}));import{j as m,P as u,a as h,u as x,n as p,d as g,f,e as j,h as v,o as y,O as b,p as N,q as w,T as _,r as C,s as S,t as P,v as D,w as E,W as k,S as T,x as M,b as A,y as F,z as R,I as L}from"./chunk-CL9ZPWFf.js";import{r as q}from"./chunk-COwh6yNZ.js";import{c as z,a as O,s as W,u as I}from"../assets/index-CwFJ5mki.js";import{updateInstitutionalBriefing as V,updateBriefing as H,addInstitutionalProposalValue as Y,addProposalValue as B,deleteInstitutionalBriefing as $,deleteBriefing as U,getBriefings as X,getInstitutionalBriefings as Q}from"./briefingService.ts-bA_HbF1V.js";import{I as G,C as J,b as Z,c as K,a as ee}from"./chunk-g1YIl3K8.js";import{b as ae,B as se}from"./chunk-36ArZCnW.js";import{X as te,k as re,l as ne,D as ie,B as le,G as oe,T as ce,m as de,n as me,E as ue,U as he,o as xe,P as pe,a as ge,b as fe,p as je,q as ve,r as ye,e as be,C as Ne,s as we,u as _e,v as Ce,w as Se,M as Pe,x as De,y as Ee,z as ke,W as Te,J as Me,K as Ae}from"./chunk-BsP0jZI6.js";import{S as Fe,a as Re,b as Le,c as qe,d as ze,T as Oe}from"./chunk-C9lT1cfo.js";import{L as We}from"./chunk-D6TsfxbD.js";import"./chunk-BU7_rkh7.js";import"./chunk-D1HE5xNQ.js";const Ie=O("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ve(e){var a=e,{className:s,variant:t}=a,r=c(a,["className","variant"]);return m.jsx("div",l({className:z(Ie({variant:t}),s)},r))}var He="horizontal",Ye=["horizontal","vertical"],Be=q.forwardRef(((e,a)=>{const s=e,{decorative:t,orientation:r=He}=s,n=c(s,["decorative","orientation"]),i=function(e){return Ye.includes(e)}(r)?r:He,d=t?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return m.jsx(u.div,o(l(l({"data-orientation":i},d),n),{ref:a}))}));Be.displayName="Separator";var $e=Be;const Ue=q.forwardRef(((e,a)=>{var s=e,{className:t,orientation:r="horizontal",decorative:n=!0}=s,i=c(s,["className","orientation","decorative"]);return m.jsx($e,l({ref:a,decorative:n,orientation:r,className:z("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t)},i))}));Ue.displayName=$e.displayName;var Xe="ScrollArea",[Qe,Ge]=h(Xe),[Je,Ze]=Qe(Xe),Ke=q.forwardRef(((e,a)=>{const s=e,{__scopeScrollArea:t,type:r="hover",dir:n,scrollHideDelay:i=600}=s,d=c(s,["__scopeScrollArea","type","dir","scrollHideDelay"]),[h,g]=q.useState(null),[f,j]=q.useState(null),[v,y]=q.useState(null),[b,N]=q.useState(null),[w,_]=q.useState(null),[C,S]=q.useState(0),[P,D]=q.useState(0),[E,k]=q.useState(!1),[T,M]=q.useState(!1),A=x(a,(e=>g(e))),F=p(n);return m.jsx(Je,{scope:t,type:r,dir:F,scrollHideDelay:i,scrollArea:h,viewport:f,onViewportChange:j,content:v,onContentChange:y,scrollbarX:b,onScrollbarXChange:N,scrollbarXEnabled:E,onScrollbarXEnabledChange:k,scrollbarY:w,onScrollbarYChange:_,scrollbarYEnabled:T,onScrollbarYEnabledChange:M,onCornerWidthChange:S,onCornerHeightChange:D,children:m.jsx(u.div,o(l({dir:F},d),{ref:A,style:l({position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":P+"px"},e.style)}))})}));Ke.displayName=Xe;var ea="ScrollAreaViewport",aa=q.forwardRef(((e,a)=>{const s=e,{__scopeScrollArea:t,children:r,asChild:n,nonce:i}=s,d=c(s,["__scopeScrollArea","children","asChild","nonce"]),h=Ze(ea,t),p=q.useRef(null),g=x(a,p,h.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"\n[data-radix-scroll-area-viewport] {\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n  -webkit-overflow-scrolling: touch;\n}\n[data-radix-scroll-area-viewport]::-webkit-scrollbar {\n  display: none;\n}\n:where([data-radix-scroll-area-viewport]) {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n:where([data-radix-scroll-area-content]) {\n  flex-grow: 1;\n}\n"},nonce:i}),m.jsx(u.div,o(l({"data-radix-scroll-area-viewport":""},d),{asChild:n,ref:g,style:l({overflowX:h.scrollbarXEnabled?"scroll":"hidden",overflowY:h.scrollbarYEnabled?"scroll":"hidden"},e.style),children:Da({asChild:n,children:r},(e=>m.jsx("div",{"data-radix-scroll-area-content":"",ref:h.onContentChange,style:{minWidth:h.scrollbarXEnabled?"fit-content":void 0},children:e})))}))]})}));aa.displayName=ea;var sa="ScrollAreaScrollbar",ta=q.forwardRef(((e,a)=>{const s=e,{forceMount:t}=s,r=c(s,["forceMount"]),n=Ze(sa,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:d}=n,u="horizontal"===e.orientation;return q.useEffect((()=>(u?i(!0):d(!0),()=>{u?i(!1):d(!1)})),[u,i,d]),"hover"===n.type?m.jsx(ra,o(l({},r),{ref:a,forceMount:t})):"scroll"===n.type?m.jsx(na,o(l({},r),{ref:a,forceMount:t})):"auto"===n.type?m.jsx(ia,o(l({},r),{ref:a,forceMount:t})):"always"===n.type?m.jsx(la,o(l({},r),{ref:a})):null}));ta.displayName=sa;var ra=q.forwardRef(((e,a)=>{const s=e,{forceMount:t}=s,r=c(s,["forceMount"]),n=Ze(sa,e.__scopeScrollArea),[i,d]=q.useState(!1);return q.useEffect((()=>{const e=n.scrollArea;let a=0;if(e){const s=()=>{window.clearTimeout(a),d(!0)},t=()=>{a=window.setTimeout((()=>d(!1)),n.scrollHideDelay)};return e.addEventListener("pointerenter",s),e.addEventListener("pointerleave",t),()=>{window.clearTimeout(a),e.removeEventListener("pointerenter",s),e.removeEventListener("pointerleave",t)}}}),[n.scrollArea,n.scrollHideDelay]),m.jsx(g,{present:t||i,children:m.jsx(ia,o(l({"data-state":i?"visible":"hidden"},r),{ref:a}))})})),na=q.forwardRef(((e,a)=>{const s=e,{forceMount:t}=s,r=c(s,["forceMount"]),n=Ze(sa,e.__scopeScrollArea),i="horizontal"===e.orientation,d=Sa((()=>h("SCROLL_END")),100),[u,h]=(x="hidden",p={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},q.useReducer(((e,a)=>{const s=p[e][a];return null!=s?s:e}),x));var x,p;return q.useEffect((()=>{if("idle"===u){const e=window.setTimeout((()=>h("HIDE")),n.scrollHideDelay);return()=>window.clearTimeout(e)}}),[u,n.scrollHideDelay,h]),q.useEffect((()=>{const e=n.viewport,a=i?"scrollLeft":"scrollTop";if(e){let s=e[a];const t=()=>{const t=e[a];s!==t&&(h("SCROLL"),d()),s=t};return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[n.viewport,i,h,d]),m.jsx(g,{present:t||"hidden"!==u,children:m.jsx(la,o(l({"data-state":"hidden"===u?"hidden":"visible"},r),{ref:a,onPointerEnter:f(e.onPointerEnter,(()=>h("POINTER_ENTER"))),onPointerLeave:f(e.onPointerLeave,(()=>h("POINTER_LEAVE")))}))})})),ia=q.forwardRef(((e,a)=>{const s=Ze(sa,e.__scopeScrollArea),t=e,{forceMount:r}=t,n=c(t,["forceMount"]),[i,d]=q.useState(!1),u="horizontal"===e.orientation,h=Sa((()=>{if(s.viewport){const e=s.viewport.offsetWidth<s.viewport.scrollWidth,a=s.viewport.offsetHeight<s.viewport.scrollHeight;d(u?e:a)}}),10);return Pa(s.viewport,h),Pa(s.content,h),m.jsx(g,{present:r||i,children:m.jsx(la,o(l({"data-state":i?"visible":"hidden"},n),{ref:a}))})})),la=q.forwardRef(((e,a)=>{const s=e,{orientation:t="vertical"}=s,r=c(s,["orientation"]),n=Ze(sa,e.__scopeScrollArea),i=q.useRef(null),d=q.useRef(0),[u,h]=q.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),x=ya(u.viewport,u.content),p=o(l({},r),{sizes:u,onSizesChange:h,hasThumb:Boolean(x>0&&x<1),onThumbChange:e=>i.current=e,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:e=>d.current=e});function g(e,a){return function(e,a,s,t="ltr"){const r=ba(s),n=r/2,i=a||n,l=r-i,o=s.scrollbar.paddingStart+i,c=s.scrollbar.size-s.scrollbar.paddingEnd-l,d=s.content-s.viewport,m="ltr"===t?[0,d]:[-1*d,0];return wa([o,c],m)(e)}(e,d.current,u,a)}return"horizontal"===t?m.jsx(oa,o(l({},p),{ref:a,onThumbPositionChange:()=>{if(n.viewport&&i.current){const e=Na(n.viewport.scrollLeft,u,n.dir);i.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollLeft=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollLeft=g(e,n.dir))}})):"vertical"===t?m.jsx(ca,o(l({},p),{ref:a,onThumbPositionChange:()=>{if(n.viewport&&i.current){const e=Na(n.viewport.scrollTop,u);i.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollTop=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollTop=g(e))}})):null})),oa=q.forwardRef(((e,a)=>{const s=e,{sizes:t,onSizesChange:r}=s,n=c(s,["sizes","onSizesChange"]),i=Ze(sa,e.__scopeScrollArea),[d,u]=q.useState(),h=q.useRef(null),p=x(a,h,i.onScrollbarXChange);return q.useEffect((()=>{h.current&&u(getComputedStyle(h.current))}),[h]),m.jsx(ua,o(l({"data-orientation":"horizontal"},n),{ref:p,sizes:t,style:l({bottom:0,left:"rtl"===i.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===i.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ba(t)+"px"},e.style),onThumbPointerDown:a=>e.onThumbPointerDown(a.x),onDragScroll:a=>e.onDragScroll(a.x),onWheelScroll:(a,s)=>{if(i.viewport){const t=i.viewport.scrollLeft+a.deltaX;e.onWheelScroll(t),_a(t,s)&&a.preventDefault()}},onResize:()=>{h.current&&i.viewport&&d&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:va(d.paddingLeft),paddingEnd:va(d.paddingRight)}})}}))})),ca=q.forwardRef(((e,a)=>{const s=e,{sizes:t,onSizesChange:r}=s,n=c(s,["sizes","onSizesChange"]),i=Ze(sa,e.__scopeScrollArea),[d,u]=q.useState(),h=q.useRef(null),p=x(a,h,i.onScrollbarYChange);return q.useEffect((()=>{h.current&&u(getComputedStyle(h.current))}),[h]),m.jsx(ua,o(l({"data-orientation":"vertical"},n),{ref:p,sizes:t,style:l({top:0,right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ba(t)+"px"},e.style),onThumbPointerDown:a=>e.onThumbPointerDown(a.y),onDragScroll:a=>e.onDragScroll(a.y),onWheelScroll:(a,s)=>{if(i.viewport){const t=i.viewport.scrollTop+a.deltaY;e.onWheelScroll(t),_a(t,s)&&a.preventDefault()}},onResize:()=>{h.current&&i.viewport&&d&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:va(d.paddingTop),paddingEnd:va(d.paddingBottom)}})}}))})),[da,ma]=Qe(sa),ua=q.forwardRef(((e,a)=>{const s=e,{__scopeScrollArea:t,sizes:r,hasThumb:n,onThumbChange:i,onThumbPointerUp:d,onThumbPointerDown:h,onThumbPositionChange:p,onDragScroll:g,onWheelScroll:v,onResize:y}=s,b=c(s,["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),N=Ze(sa,t),[w,_]=q.useState(null),C=x(a,(e=>_(e))),S=q.useRef(null),P=q.useRef(""),D=N.viewport,E=r.content-r.viewport,k=j(v),T=j(p),M=Sa(y,10);function A(e){if(S.current){const a=e.clientX-S.current.left,s=e.clientY-S.current.top;g({x:a,y:s})}}return q.useEffect((()=>{const e=e=>{const a=e.target;(null==w?void 0:w.contains(a))&&k(e,E)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})}),[D,w,E,k]),q.useEffect(T,[r,T]),Pa(w,M),Pa(N.content,M),m.jsx(da,{scope:t,scrollbar:w,hasThumb:n,onThumbChange:j(i),onThumbPointerUp:j(d),onThumbPositionChange:T,onThumbPointerDown:j(h),children:m.jsx(u.div,o(l({},b),{ref:C,style:l({position:"absolute"},b.style),onPointerDown:f(e.onPointerDown,(e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),S.current=w.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",N.viewport&&(N.viewport.style.scrollBehavior="auto"),A(e)}})),onPointerMove:f(e.onPointerMove,A),onPointerUp:f(e.onPointerUp,(e=>{const a=e.target;a.hasPointerCapture(e.pointerId)&&a.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=P.current,N.viewport&&(N.viewport.style.scrollBehavior=""),S.current=null}))}))})})),ha="ScrollAreaThumb",xa=q.forwardRef(((e,a)=>{const s=e,{forceMount:t}=s,r=c(s,["forceMount"]),n=ma(ha,e.__scopeScrollArea);return m.jsx(g,{present:t||n.hasThumb,children:m.jsx(pa,l({ref:a},r))})})),pa=q.forwardRef(((e,a)=>{const s=e,{__scopeScrollArea:t,style:r}=s,n=c(s,["__scopeScrollArea","style"]),i=Ze(ha,t),d=ma(ha,t),{onThumbPositionChange:h}=d,p=x(a,(e=>d.onThumbChange(e))),g=q.useRef(),j=Sa((()=>{g.current&&(g.current(),g.current=void 0)}),100);return q.useEffect((()=>{const e=i.viewport;if(e){const a=()=>{if(j(),!g.current){const a=Ca(e,h);g.current=a,h()}};return h(),e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}}),[i.viewport,j,h]),m.jsx(u.div,o(l({"data-state":d.hasThumb?"visible":"hidden"},n),{ref:p,style:l({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},r),onPointerDownCapture:f(e.onPointerDownCapture,(e=>{const a=e.target.getBoundingClientRect(),s=e.clientX-a.left,t=e.clientY-a.top;d.onThumbPointerDown({x:s,y:t})})),onPointerUp:f(e.onPointerUp,d.onThumbPointerUp)}))}));xa.displayName=ha;var ga="ScrollAreaCorner",fa=q.forwardRef(((e,a)=>{const s=Ze(ga,e.__scopeScrollArea),t=Boolean(s.scrollbarX&&s.scrollbarY);return"scroll"!==s.type&&t?m.jsx(ja,o(l({},e),{ref:a})):null}));fa.displayName=ga;var ja=q.forwardRef(((e,a)=>{const s=e,{__scopeScrollArea:t}=s,r=c(s,["__scopeScrollArea"]),n=Ze(ga,t),[i,d]=q.useState(0),[h,x]=q.useState(0),p=Boolean(i&&h);return Pa(n.scrollbarX,(()=>{var e;const a=(null==(e=n.scrollbarX)?void 0:e.offsetHeight)||0;n.onCornerHeightChange(a),x(a)})),Pa(n.scrollbarY,(()=>{var e;const a=(null==(e=n.scrollbarY)?void 0:e.offsetWidth)||0;n.onCornerWidthChange(a),d(a)})),p?m.jsx(u.div,o(l({},r),{ref:a,style:l({width:i,height:h,position:"absolute",right:"ltr"===n.dir?0:void 0,left:"rtl"===n.dir?0:void 0,bottom:0},e.style)})):null}));function va(e){return e?parseInt(e,10):0}function ya(e,a){const s=e/a;return isNaN(s)?0:s}function ba(e){const a=ya(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,t=(e.scrollbar.size-s)*a;return Math.max(t,18)}function Na(e,a,s="ltr"){const t=ba(a),r=a.scrollbar.paddingStart+a.scrollbar.paddingEnd,n=a.scrollbar.size-r,i=a.content-a.viewport,l=n-t,o=y(e,"ltr"===s?[0,i]:[-1*i,0]);return wa([0,i],[0,l])(o)}function wa(e,a){return s=>{if(e[0]===e[1]||a[0]===a[1])return a[0];const t=(a[1]-a[0])/(e[1]-e[0]);return a[0]+t*(s-e[0])}}function _a(e,a){return e>0&&e<a}var Ca=(e,a=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},t=0;return function r(){const n={left:e.scrollLeft,top:e.scrollTop},i=s.left!==n.left,l=s.top!==n.top;(i||l)&&a(),s=n,t=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(t)};function Sa(e,a){const s=j(e),t=q.useRef(0);return q.useEffect((()=>()=>window.clearTimeout(t.current)),[]),q.useCallback((()=>{window.clearTimeout(t.current),t.current=window.setTimeout(s,a)}),[s,a])}function Pa(e,a){const s=j(a);v((()=>{let a=0;if(e){const t=new ResizeObserver((()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)}));return t.observe(e),()=>{window.cancelAnimationFrame(a),t.unobserve(e)}}}),[e,s])}function Da(e,a){const{asChild:s,children:t}=e;if(!s)return"function"==typeof a?a(t):a;const r=q.Children.only(t);return q.cloneElement(r,{children:"function"==typeof a?a(r.props.children):a})}var Ea=Ke,ka=aa,Ta=fa;const Ma=q.forwardRef(((e,a)=>{var s=e,{className:t,children:r}=s,n=c(s,["className","children"]);return m.jsxs(Ea,o(l({ref:a,className:z("relative overflow-hidden",t)},n),{children:[m.jsx(ka,{className:"h-full w-full rounded-[inherit]",children:r}),m.jsx(Aa,{}),m.jsx(Ta,{})]}))}));Ma.displayName=Ea.displayName;const Aa=q.forwardRef(((e,a)=>{var s=e,{className:t,orientation:r="vertical"}=s,n=c(s,["className","orientation"]);return m.jsx(ta,o(l({ref:a,orientation:r,className:z("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t)},n),{children:m.jsx(xa,{className:"relative flex-1 rounded-full bg-border"})}))}));Aa.displayName=ta.displayName;const Fa=P,Ra=D,La=S,qa=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(b,l({ref:a,className:z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},r))}));qa.displayName=b.displayName;const za=q.forwardRef(((e,a)=>{var s=e,{className:t,children:r}=s,n=c(s,["className","children"]);return m.jsxs(La,{children:[m.jsx(qa,{}),m.jsxs(N,o(l({ref:a,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},n),{children:[r,m.jsxs(w,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(te,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}));za.displayName=N.displayName;const Oa=e=>{var a=e,{className:s}=a,t=c(a,["className"]);return m.jsx("div",l({className:z("flex flex-col space-y-1.5 text-center sm:text-left",s)},t))};Oa.displayName="DialogHeader";const Wa=e=>{var a=e,{className:s}=a,t=c(a,["className"]);return m.jsx("div",l({className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s)},t))};Wa.displayName="DialogFooter";const Ia=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(_,l({ref:a,className:z("text-lg font-semibold leading-none tracking-tight",t)},r))}));Ia.displayName=_.displayName;const Va=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(C,l({ref:a,className:z("text-sm text-muted-foreground",t)},r))}));Va.displayName=C.displayName;var Ha="AlertDialog",[Ya,Ba]=h(Ha,[E]),$a=E(),Ua=e=>{const a=e,{__scopeAlertDialog:s}=a,t=c(a,["__scopeAlertDialog"]),r=$a(s);return m.jsx(P,o(l(l({},r),t),{modal:!0}))};Ua.displayName=Ha;var Xa=q.forwardRef(((e,a)=>{const s=e,{__scopeAlertDialog:t}=s,r=c(s,["__scopeAlertDialog"]),n=$a(t);return m.jsx(D,o(l(l({},n),r),{ref:a}))}));Xa.displayName="AlertDialogTrigger";var Qa=e=>{const a=e,{__scopeAlertDialog:s}=a,t=c(a,["__scopeAlertDialog"]),r=$a(s);return m.jsx(S,l(l({},r),t))};Qa.displayName="AlertDialogPortal";var Ga=q.forwardRef(((e,a)=>{const s=e,{__scopeAlertDialog:t}=s,r=c(s,["__scopeAlertDialog"]),n=$a(t);return m.jsx(b,o(l(l({},n),r),{ref:a}))}));Ga.displayName="AlertDialogOverlay";var Ja="AlertDialogContent",[Za,Ka]=Ya(Ja),es=q.forwardRef(((e,a)=>{const s=e,{__scopeAlertDialog:t,children:r}=s,n=c(s,["__scopeAlertDialog","children"]),i=$a(t),d=q.useRef(null),u=x(a,d),h=q.useRef(null);return m.jsx(k,{contentName:Ja,titleName:as,docsSlug:"alert-dialog",children:m.jsx(Za,{scope:t,cancelRef:h,children:m.jsxs(N,o(l(l({role:"alertdialog"},i),n),{ref:u,onOpenAutoFocus:f(n.onOpenAutoFocus,(e=>{var a;e.preventDefault(),null==(a=h.current)||a.focus({preventScroll:!0})})),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[m.jsx(T,{children:r}),m.jsx(os,{contentRef:d})]}))})})}));es.displayName=Ja;var as="AlertDialogTitle",ss=q.forwardRef(((e,a)=>{const s=e,{__scopeAlertDialog:t}=s,r=c(s,["__scopeAlertDialog"]),n=$a(t);return m.jsx(_,o(l(l({},n),r),{ref:a}))}));ss.displayName=as;var ts="AlertDialogDescription",rs=q.forwardRef(((e,a)=>{const s=e,{__scopeAlertDialog:t}=s,r=c(s,["__scopeAlertDialog"]),n=$a(t);return m.jsx(C,o(l(l({},n),r),{ref:a}))}));rs.displayName=ts;var ns=q.forwardRef(((e,a)=>{const s=e,{__scopeAlertDialog:t}=s,r=c(s,["__scopeAlertDialog"]),n=$a(t);return m.jsx(w,o(l(l({},n),r),{ref:a}))}));ns.displayName="AlertDialogAction";var is="AlertDialogCancel",ls=q.forwardRef(((e,a)=>{const s=e,{__scopeAlertDialog:t}=s,r=c(s,["__scopeAlertDialog"]),{cancelRef:n}=Ka(is,t),i=$a(t),d=x(a,n);return m.jsx(w,o(l(l({},i),r),{ref:d}))}));ls.displayName=is;var os=({contentRef:e})=>{const a=`\`${Ja}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${Ja}\` by passing a \`${ts}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ja}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return q.useEffect((()=>{var a;document.getElementById(null==(a=e.current)?void 0:a.getAttribute("aria-describedby"))}),[a,e]),null},cs=Ga,ds=es,ms=ns,us=ls,hs=ss,xs=rs;const ps=Ua,gs=Xa,fs=Qa,js=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(cs,o(l({className:z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},r),{ref:a}))}));js.displayName=cs.displayName;const vs=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsxs(fs,{children:[m.jsx(js,{}),m.jsx(ds,l({ref:a,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},r))]})}));vs.displayName=ds.displayName;const ys=e=>{var a=e,{className:s}=a,t=c(a,["className"]);return m.jsx("div",l({className:z("flex flex-col space-y-2 text-center sm:text-left",s)},t))};ys.displayName="AlertDialogHeader";const bs=e=>{var a=e,{className:s}=a,t=c(a,["className"]);return m.jsx("div",l({className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s)},t))};bs.displayName="AlertDialogFooter";const Ns=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(hs,l({ref:a,className:z("text-lg font-semibold",t)},r))}));Ns.displayName=hs.displayName;const ws=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(xs,l({ref:a,className:z("text-sm text-muted-foreground",t)},r))}));ws.displayName=xs.displayName;const _s=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(ms,l({ref:a,className:z(ae(),t)},r))}));_s.displayName=ms.displayName;const Cs=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(us,l({ref:a,className:z(ae({variant:"outline"}),"mt-2 sm:mt-0",t)},r))}));function Ss(e){const a=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===a?new e.constructor(+e):"number"==typeof e||"[object Number]"===a||"string"==typeof e||"[object String]"===a?new Date(e):new Date(NaN)}function Ps(e,a){return e instanceof Date?new e.constructor(a):new Date(a)}Cs.displayName=us.displayName;const Ds=6048e5,Es=6e4,ks=36e5;let Ts={};function Ms(){return Ts}function As(e,a){var s,t,r,n,i,l,o,c;const d=Ms(),m=null!=(c=null!=(o=null!=(n=null!=(r=null==a?void 0:a.weekStartsOn)?r:null==(t=null==(s=null==a?void 0:a.locale)?void 0:s.options)?void 0:t.weekStartsOn)?n:d.weekStartsOn)?o:null==(l=null==(i=d.locale)?void 0:i.options)?void 0:l.weekStartsOn)?c:0,u=Ss(e),h=u.getDay(),x=(h<m?7:0)+h-m;return u.setDate(u.getDate()-x),u.setHours(0,0,0,0),u}function Fs(e){return As(e,{weekStartsOn:1})}function Rs(e){const a=Ss(e),s=a.getFullYear(),t=Ps(e,0);t.setFullYear(s+1,0,4),t.setHours(0,0,0,0);const r=Fs(t),n=Ps(e,0);n.setFullYear(s,0,4),n.setHours(0,0,0,0);const i=Fs(n);return a.getTime()>=r.getTime()?s+1:a.getTime()>=i.getTime()?s:s-1}function Ls(e){const a=Ss(e);return a.setHours(0,0,0,0),a}function qs(e){const a=Ss(e),s=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return s.setUTCFullYear(a.getFullYear()),+e-+s}function zs(e){if(!(a=e,a instanceof Date||"object"==typeof a&&"[object Date]"===Object.prototype.toString.call(a)||"number"==typeof e))return!1;var a;const s=Ss(e);return!isNaN(Number(s))}const Os={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ws(e){return(a={})=>{const s=a.width?String(a.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Is={date:Ws({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ws({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ws({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Vs={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Hs(e){return(a,s)=>{let t;if("formatting"===((null==s?void 0:s.context)?String(s.context):"standalone")&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,r=(null==s?void 0:s.width)?String(s.width):a;t=e.formattingValues[r]||e.formattingValues[a]}else{const a=e.defaultWidth,r=(null==s?void 0:s.width)?String(s.width):e.defaultWidth;t=e.values[r]||e.values[a]}return t[e.argumentCallback?e.argumentCallback(a):a]}}function Ys(e){return(a,s={})=>{const t=s.width,r=t&&e.matchPatterns[t]||e.matchPatterns[e.defaultMatchWidth],n=a.match(r);if(!n)return null;const i=n[0],l=t&&e.parsePatterns[t]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(l)?function(e,a){for(let s=0;s<e.length;s++)if(a(e[s]))return s;return}(l,(e=>e.test(i))):function(e,a){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&a(e[s]))return s;return}(l,(e=>e.test(i)));let c;c=e.valueCallback?e.valueCallback(o):o,c=s.valueCallback?s.valueCallback(c):c;return{value:c,rest:a.slice(i.length)}}}function Bs(e){return(a,s={})=>{const t=a.match(e.matchPattern);if(!t)return null;const r=t[0],n=a.match(e.parsePattern);if(!n)return null;let i=e.valueCallback?e.valueCallback(n[0]):n[0];i=s.valueCallback?s.valueCallback(i):i;return{value:i,rest:a.slice(r.length)}}}const $s={code:"en-US",formatDistance:(e,a,s)=>{let t;const r=Os[e];return t="string"==typeof r?r:1===a?r.one:r.other.replace("{{count}}",a.toString()),(null==s?void 0:s.addSuffix)?s.comparison&&s.comparison>0?"in "+t:t+" ago":t},formatLong:Is,formatRelative:(e,a,s,t)=>Vs[e],localize:{ordinalNumber:(e,a)=>{const s=Number(e),t=s%100;if(t>20||t<10)switch(t%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},era:Hs({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Hs({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hs({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Hs({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Hs({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Bs({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Ys({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Ys({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ys({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ys({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ys({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Us(e){const a=Ss(e),s=function(e,a){const s=Ls(e),t=Ls(a),r=+s-qs(s),n=+t-qs(t);return Math.round((r-n)/864e5)}(a,function(e){const a=Ss(e),s=Ps(e,0);return s.setFullYear(a.getFullYear(),0,1),s.setHours(0,0,0,0),s}(a));return s+1}function Xs(e){const a=Ss(e),s=+Fs(a)-+function(e){const a=Rs(e),s=Ps(e,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Fs(s)}(a);return Math.round(s/Ds)+1}function Qs(e,a){var s,t,r,n,i,l,o,c;const d=Ss(e),m=d.getFullYear(),u=Ms(),h=null!=(c=null!=(o=null!=(n=null!=(r=null==a?void 0:a.firstWeekContainsDate)?r:null==(t=null==(s=null==a?void 0:a.locale)?void 0:s.options)?void 0:t.firstWeekContainsDate)?n:u.firstWeekContainsDate)?o:null==(l=null==(i=u.locale)?void 0:i.options)?void 0:l.firstWeekContainsDate)?c:1,x=Ps(e,0);x.setFullYear(m+1,0,h),x.setHours(0,0,0,0);const p=As(x,a),g=Ps(e,0);g.setFullYear(m,0,h),g.setHours(0,0,0,0);const f=As(g,a);return d.getTime()>=p.getTime()?m+1:d.getTime()>=f.getTime()?m:m-1}function Gs(e,a){const s=Ss(e),t=+As(s,a)-+function(e,a){var s,t,r,n,i,l,o,c;const d=Ms(),m=null!=(c=null!=(o=null!=(n=null!=(r=null==a?void 0:a.firstWeekContainsDate)?r:null==(t=null==(s=null==a?void 0:a.locale)?void 0:s.options)?void 0:t.firstWeekContainsDate)?n:d.firstWeekContainsDate)?o:null==(l=null==(i=d.locale)?void 0:i.options)?void 0:l.firstWeekContainsDate)?c:1,u=Qs(e,a),h=Ps(e,0);return h.setFullYear(u,0,m),h.setHours(0,0,0,0),As(h,a)}(s,a);return Math.round(t/Ds)+1}function Js(e,a){return(e<0?"-":"")+Math.abs(e).toString().padStart(a,"0")}const Zs={y(e,a){const s=e.getFullYear(),t=s>0?s:1-s;return Js("yy"===a?t%100:t,a.length)},M(e,a){const s=e.getMonth();return"M"===a?String(s+1):Js(s+1,2)},d:(e,a)=>Js(e.getDate(),a.length),a(e,a){const s=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return"am"===s?"a.m.":"p.m."}},h:(e,a)=>Js(e.getHours()%12||12,a.length),H:(e,a)=>Js(e.getHours(),a.length),m:(e,a)=>Js(e.getMinutes(),a.length),s:(e,a)=>Js(e.getSeconds(),a.length),S(e,a){const s=a.length,t=e.getMilliseconds();return Js(Math.trunc(t*Math.pow(10,s-3)),a.length)}},Ks="midnight",et="noon",at="morning",st="afternoon",tt="evening",rt="night",nt={G:function(e,a,s){const t=e.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"});case"GGGGG":return s.era(t,{width:"narrow"});default:return s.era(t,{width:"wide"})}},y:function(e,a,s){if("yo"===a){const a=e.getFullYear(),t=a>0?a:1-a;return s.ordinalNumber(t,{unit:"year"})}return Zs.y(e,a)},Y:function(e,a,s,t){const r=Qs(e,t),n=r>0?r:1-r;if("YY"===a){return Js(n%100,2)}return"Yo"===a?s.ordinalNumber(n,{unit:"year"}):Js(n,a.length)},R:function(e,a){return Js(Rs(e),a.length)},u:function(e,a){return Js(e.getFullYear(),a.length)},Q:function(e,a,s){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"Q":return String(t);case"QQ":return Js(t,2);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});default:return s.quarter(t,{width:"wide",context:"formatting"})}},q:function(e,a,s){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"q":return String(t);case"qq":return Js(t,2);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});default:return s.quarter(t,{width:"wide",context:"standalone"})}},M:function(e,a,s){const t=e.getMonth();switch(a){case"M":case"MM":return Zs.M(e,a);case"Mo":return s.ordinalNumber(t+1,{unit:"month"});case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});default:return s.month(t,{width:"wide",context:"formatting"})}},L:function(e,a,s){const t=e.getMonth();switch(a){case"L":return String(t+1);case"LL":return Js(t+1,2);case"Lo":return s.ordinalNumber(t+1,{unit:"month"});case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});default:return s.month(t,{width:"wide",context:"standalone"})}},w:function(e,a,s,t){const r=Gs(e,t);return"wo"===a?s.ordinalNumber(r,{unit:"week"}):Js(r,a.length)},I:function(e,a,s){const t=Xs(e);return"Io"===a?s.ordinalNumber(t,{unit:"week"}):Js(t,a.length)},d:function(e,a,s){return"do"===a?s.ordinalNumber(e.getDate(),{unit:"date"}):Zs.d(e,a)},D:function(e,a,s){const t=Us(e);return"Do"===a?s.ordinalNumber(t,{unit:"dayOfYear"}):Js(t,a.length)},E:function(e,a,s){const t=e.getDay();switch(a){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"});default:return s.day(t,{width:"wide",context:"formatting"})}},e:function(e,a,s,t){const r=e.getDay(),n=(r-t.weekStartsOn+8)%7||7;switch(a){case"e":return String(n);case"ee":return Js(n,2);case"eo":return s.ordinalNumber(n,{unit:"day"});case"eee":return s.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},c:function(e,a,s,t){const r=e.getDay(),n=(r-t.weekStartsOn+8)%7||7;switch(a){case"c":return String(n);case"cc":return Js(n,a.length);case"co":return s.ordinalNumber(n,{unit:"day"});case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"});default:return s.day(r,{width:"wide",context:"standalone"})}},i:function(e,a,s){const t=e.getDay(),r=0===t?7:t;switch(a){case"i":return String(r);case"ii":return Js(r,a.length);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return s.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(t,{width:"short",context:"formatting"});default:return s.day(t,{width:"wide",context:"formatting"})}},a:function(e,a,s){const t=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});default:return s.dayPeriod(t,{width:"wide",context:"formatting"})}},b:function(e,a,s){const t=e.getHours();let r;switch(r=12===t?et:0===t?Ks:t/12>=1?"pm":"am",a){case"b":case"bb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,a,s){const t=e.getHours();let r;switch(r=t>=17?tt:t>=12?st:t>=4?at:rt,a){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,a,s){if("ho"===a){let a=e.getHours()%12;return 0===a&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Zs.h(e,a)},H:function(e,a,s){return"Ho"===a?s.ordinalNumber(e.getHours(),{unit:"hour"}):Zs.H(e,a)},K:function(e,a,s){const t=e.getHours()%12;return"Ko"===a?s.ordinalNumber(t,{unit:"hour"}):Js(t,a.length)},k:function(e,a,s){let t=e.getHours();return 0===t&&(t=24),"ko"===a?s.ordinalNumber(t,{unit:"hour"}):Js(t,a.length)},m:function(e,a,s){return"mo"===a?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zs.m(e,a)},s:function(e,a,s){return"so"===a?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Zs.s(e,a)},S:function(e,a){return Zs.S(e,a)},X:function(e,a,s){const t=e.getTimezoneOffset();if(0===t)return"Z";switch(a){case"X":return lt(t);case"XXXX":case"XX":return ot(t);default:return ot(t,":")}},x:function(e,a,s){const t=e.getTimezoneOffset();switch(a){case"x":return lt(t);case"xxxx":case"xx":return ot(t);default:return ot(t,":")}},O:function(e,a,s){const t=e.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+it(t,":");default:return"GMT"+ot(t,":")}},z:function(e,a,s){const t=e.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+it(t,":");default:return"GMT"+ot(t,":")}},t:function(e,a,s){return Js(Math.trunc(e.getTime()/1e3),a.length)},T:function(e,a,s){return Js(e.getTime(),a.length)}};function it(e,a=""){const s=e>0?"-":"+",t=Math.abs(e),r=Math.trunc(t/60),n=t%60;return 0===n?s+String(r):s+String(r)+a+Js(n,2)}function lt(e,a){if(e%60==0){return(e>0?"-":"+")+Js(Math.abs(e)/60,2)}return ot(e,a)}function ot(e,a=""){const s=e>0?"-":"+",t=Math.abs(e);return s+Js(Math.trunc(t/60),2)+a+Js(t%60,2)}const ct=(e,a)=>{switch(e){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});default:return a.date({width:"full"})}},dt=(e,a)=>{switch(e){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});default:return a.time({width:"full"})}},mt={p:dt,P:(e,a)=>{const s=e.match(/(P+)(p+)?/)||[],t=s[1],r=s[2];if(!r)return ct(e,a);let n;switch(t){case"P":n=a.dateTime({width:"short"});break;case"PP":n=a.dateTime({width:"medium"});break;case"PPP":n=a.dateTime({width:"long"});break;default:n=a.dateTime({width:"full"})}return n.replace("{{date}}",ct(t,a)).replace("{{time}}",dt(r,a))}},ut=/^D+$/,ht=/^Y+$/,xt=["D","DD","YY","YYYY"];const pt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ft=/^'([^]*?)'?$/,jt=/''/g,vt=/[a-zA-Z]/;function yt(e,a,s){var t,r,n,i,l,o,c,d,m,u,h,x,p,g,f,j,v,y;const b=Ms(),N=null!=(r=null!=(t=null==s?void 0:s.locale)?t:b.locale)?r:$s,w=null!=(u=null!=(m=null!=(o=null!=(l=null==s?void 0:s.firstWeekContainsDate)?l:null==(i=null==(n=null==s?void 0:s.locale)?void 0:n.options)?void 0:i.firstWeekContainsDate)?o:b.firstWeekContainsDate)?m:null==(d=null==(c=b.locale)?void 0:c.options)?void 0:d.firstWeekContainsDate)?u:1,_=null!=(y=null!=(v=null!=(g=null!=(p=null==s?void 0:s.weekStartsOn)?p:null==(x=null==(h=null==s?void 0:s.locale)?void 0:h.options)?void 0:x.weekStartsOn)?g:b.weekStartsOn)?v:null==(j=null==(f=b.locale)?void 0:f.options)?void 0:j.weekStartsOn)?y:0,C=Ss(e);if(!zs(C))throw new RangeError("Invalid time value");let S=a.match(gt).map((e=>{const a=e[0];if("p"===a||"P"===a){return(0,mt[a])(e,N.formatLong)}return e})).join("").match(pt).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const a=e[0];if("'"===a)return{isToken:!1,value:bt(e)};if(nt[a])return{isToken:!0,value:e};if(a.match(vt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return{isToken:!1,value:e}}));N.localize.preprocessor&&(S=N.localize.preprocessor(C,S));const P={firstWeekContainsDate:w,weekStartsOn:_,locale:N};return S.map((t=>{if(!t.isToken)return t.value;const r=t.value;(!(null==s?void 0:s.useAdditionalWeekYearTokens)&&function(e){return ht.test(e)}(r)||!(null==s?void 0:s.useAdditionalDayOfYearTokens)&&function(e){return ut.test(e)}(r))&&function(e,a,s){const t=function(e,a,s){const t="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${a}\`) for formatting ${t} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,a,s);if(xt.includes(e))throw new RangeError(t)}(r,a,String(e));return(0,nt[r[0]])(C,r,N.localize,P)})).join("")}function bt(e){const a=e.match(ft);return a?a[1].replace(jt,"'"):e}function Nt(e,a){const s=function(e){const a={},s=e.split(wt.dateTimeDelimiter);let t;if(s.length>2)return a;/:/.test(s[0])?t=s[0]:(a.date=s[0],t=s[1],wt.timeZoneDelimiter.test(a.date)&&(a.date=e.split(wt.timeZoneDelimiter)[0],t=e.substr(a.date.length,e.length)));if(t){const e=wt.timezone.exec(t);e?(a.time=t.replace(e[1],""),a.timezone=e[1]):a.time=t}return a}(e);let t;if(s.date){const e=function(e,a){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),t=e.match(s);if(!t)return{year:NaN,restDateString:""};const r=t[1]?parseInt(t[1]):null,n=t[2]?parseInt(t[2]):null;return{year:null===n?r:100*n,restDateString:e.slice((t[1]||t[2]).length)}}(s.date,2);t=function(e,a){if(null===a)return new Date(NaN);const s=e.match(_t);if(!s)return new Date(NaN);const t=!!s[4],r=Pt(s[1]),n=Pt(s[2])-1,i=Pt(s[3]),l=Pt(s[4]),o=Pt(s[5])-1;if(t)return function(e,a,s){return a>=1&&a<=53&&s>=0&&s<=6}(0,l,o)?function(e,a,s){const t=new Date(0);t.setUTCFullYear(e,0,4);const r=t.getUTCDay()||7,n=7*(a-1)+s+1-r;return t.setUTCDate(t.getUTCDate()+n),t}(a,l,o):new Date(NaN);{const e=new Date(0);return function(e,a,s){return a>=0&&a<=11&&s>=1&&s<=(Et[a]||(kt(e)?29:28))}(a,n,i)&&function(e,a){return a>=1&&a<=(kt(e)?366:365)}(a,r)?(e.setUTCFullYear(a,n,Math.max(r,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!t||isNaN(t.getTime()))return new Date(NaN);const r=t.getTime();let n,i=0;if(s.time&&(i=function(e){const a=e.match(Ct);if(!a)return NaN;const s=Dt(a[1]),t=Dt(a[2]),r=Dt(a[3]);if(!function(e,a,s){if(24===e)return 0===a&&0===s;return s>=0&&s<60&&a>=0&&a<60&&e>=0&&e<25}(s,t,r))return NaN;return s*ks+t*Es+1e3*r}(s.time),isNaN(i)))return new Date(NaN);if(!s.timezone){const e=new Date(r+i),a=new Date(0);return a.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),a.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),a}return n=function(e){if("Z"===e)return 0;const a=e.match(St);if(!a)return 0;const s="+"===a[1]?-1:1,t=parseInt(a[2]),r=a[3]&&parseInt(a[3])||0;if(!function(e,a){return a>=0&&a<=59}(0,r))return NaN;return s*(t*ks+r*Es)}(s.timezone),isNaN(n)?new Date(NaN):new Date(r+i+n)}const wt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_t=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ct=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,St=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Pt(e){return e?parseInt(e):1}function Dt(e){return e&&parseFloat(e.replace(",","."))||0}const Et=[31,null,31,30,31,30,31,31,30,31,30,31];function kt(e){return e%400==0||e%4==0&&e%100!=0}const Tt={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Mt={date:Ws({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:Ws({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Ws({formats:{full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},At={lastWeek:e=>{const a=e.getDay();return"'"+(0===a||6===a?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Ft={code:"pt-BR",formatDistance:(e,a,s)=>{let t;const r=Tt[e];return t="string"==typeof r?r:1===a?r.one:r.other.replace("{{count}}",String(a)),(null==s?void 0:s.addSuffix)?s.comparison&&s.comparison>0?"em "+t:"há "+t:t},formatLong:Mt,formatRelative:(e,a,s,t)=>{const r=At[e];return"function"==typeof r?r(a):r},localize:{ordinalNumber:(e,a)=>{const s=Number(e);return"week"===(null==a?void 0:a.unit)?s+"ª":s+"º"},era:Hs({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:Hs({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hs({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:Hs({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},defaultWidth:"wide"}),dayPeriod:Hs({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Bs({matchPattern:/^(\d+)[ºªo]?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Ys({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:Ys({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ys({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:Ys({matchPatterns:{narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},defaultParseWidth:"any"}),dayPeriod:Ys({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},Rt=({briefing:e,onUpdate:a})=>{const[s,t]=q.useState(!1),[r,n]=q.useState(!1),[i,c]=q.useState(e),u=(e,a)=>{c((s=>o(l({},s),{[e]:a})))};return m.jsxs(Fa,{open:s,onOpenChange:t,children:[m.jsx(Ra,{asChild:!0,children:m.jsxs(se,{variant:"outline",size:"sm",className:"gap-2",children:[m.jsx(re,{className:"w-4 h-4"}),"Editar"]})}),m.jsxs(za,{className:"max-w-4xl max-h-[95vh] overflow-hidden",children:[m.jsxs(Oa,{children:[m.jsxs(Ia,{className:"flex items-center gap-2",children:[m.jsx(re,{className:"w-5 h-5"}),"Editar Briefing - ",e.company_name]}),m.jsx(Va,{children:"Edite as informações do briefing conforme necessário"})]}),m.jsxs("form",{onSubmit:s=>d(void 0,null,(function*(){s.preventDefault(),n(!0);try{let s;s=(e=>"website_goal"in e&&"website_type"in e)(e)?yield V(e.id,i):yield H(e.id,i),a(s),t(!1)}catch(r){alert("Erro ao atualizar briefing. Tente novamente.")}finally{n(!1)}})),className:"flex flex-col h-full",children:[m.jsx(Ma,{className:"flex-1 max-h-[70vh] pr-4",children:m.jsxs("div",{className:"space-y-6 pb-4",children:[m.jsxs("section",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-3 text-pink-800",children:"Página 1: Sua Empresa"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(We,{htmlFor:"company_name",children:"Nome da Empresa *"}),m.jsx(G,{id:"company_name",value:i.company_name||"",onChange:e=>u("company_name",e.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx(We,{htmlFor:"business_segment",children:"Segmento de Atuação *"}),m.jsxs(Fe,{value:i.business_segment||"",onValueChange:e=>u("business_segment",e),children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecione o segmento"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"educacao",children:"Educação"}),m.jsx(ze,{value:"saude",children:"Saúde e Bem-estar"}),m.jsx(ze,{value:"consultoria",children:"Consultoria"}),m.jsx(ze,{value:"tecnologia",children:"Tecnologia"}),m.jsx(ze,{value:"e-commerce",children:"E-commerce"}),m.jsx(ze,{value:"servicos",children:"Serviços"})]})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"company_description",children:"Descrição da Empresa *"}),m.jsx(Oe,{id:"company_description",value:i.company_description||"",onChange:e=>u("company_description",e.target.value),rows:4,required:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"target_audience",children:"Público-Alvo *"}),m.jsx(Oe,{id:"target_audience",value:i.target_audience||"",onChange:e=>u("target_audience",e.target.value),rows:3,required:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"competitive_advantage",children:"Diferencial Competitivo *"}),m.jsx(Oe,{id:"competitive_advantage",value:i.competitive_advantage||"",onChange:e=>u("competitive_advantage",e.target.value),rows:3,required:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"landing_page_goal",children:"Objetivo da Landing Page *"}),m.jsxs(Fe,{value:i.landing_page_goal||"",onValueChange:e=>u("landing_page_goal",e),children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Qual o principal objetivo?"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"vendas",children:"Aumentar Vendas"}),m.jsx(ze,{value:"leads",children:"Capturar Leads"}),m.jsx(ze,{value:"agendamentos",children:"Gerar Agendamentos"}),m.jsx(ze,{value:"cadastros",children:"Aumentar Cadastros"}),m.jsx(ze,{value:"awareness",children:"Brand Awareness"})]})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"main_competitors",children:"Principais Concorrentes"}),m.jsx(Oe,{id:"main_competitors",value:i.main_competitors||"",onChange:e=>u("main_competitors",e.target.value),rows:3})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"customer_pain_points",children:"Principais Dores do Cliente"}),m.jsx(Oe,{id:"customer_pain_points",value:i.customer_pain_points||"",onChange:e=>u("customer_pain_points",e.target.value),rows:3})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"success_stories",children:"Histórias de Sucesso"}),m.jsx(Oe,{id:"success_stories",value:i.success_stories||"",onChange:e=>u("success_stories",e.target.value),rows:3})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"social_proof",children:"Prova Social Disponível"}),m.jsx(Oe,{id:"social_proof",value:i.social_proof||"",onChange:e=>u("social_proof",e.target.value),rows:3})]})]})]}),m.jsx(Ue,{}),m.jsxs("section",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-3 text-green-800",children:"Página 2: Produto/Serviço"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(We,{htmlFor:"responsible_name",children:"Nome do Responsável *"}),m.jsx(G,{id:"responsible_name",value:i.responsible_name||"",onChange:e=>u("responsible_name",e.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx(We,{htmlFor:"current_website",children:"Site Atual (se houver)"}),m.jsx(G,{id:"current_website",value:i.current_website||"",onChange:e=>u("current_website",e.target.value),placeholder:"https://seusite.com"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"product_name",children:"Nome do Produto/Serviço Principal *"}),m.jsx(G,{id:"product_name",value:i.product_name||"",onChange:e=>u("product_name",e.target.value),required:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"product_description",children:"Descrição Detalhada do Produto/Serviço *"}),m.jsx(Oe,{id:"product_description",value:i.product_description||"",onChange:e=>u("product_description",e.target.value),rows:4,required:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"main_benefits",children:"Principais Benefícios *"}),m.jsx(Oe,{id:"main_benefits",value:i.main_benefits||"",onChange:e=>u("main_benefits",e.target.value),rows:3,required:!0})]}),m.jsxs("div",{children:[m.jsx(We,{htmlFor:"number_of_offers",children:"Quantas Ofertas Terá na Landing Page?"}),m.jsxs(Fe,{value:i.number_of_offers||"",onValueChange:e=>u("number_of_offers",e),children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecione"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"1",children:"1 oferta (mais simples)"}),m.jsx(ze,{value:"2",children:"2 ofertas (básica + premium)"}),m.jsx(ze,{value:"3",children:"3 ofertas (básica + intermediária + premium)"})]})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"offer_details",children:"Detalhes das Ofertas e Valores Exatos"}),m.jsx(Oe,{id:"offer_details",value:i.offer_details||"",onChange:e=>u("offer_details",e.target.value),rows:6})]}),m.jsxs("div",{children:[m.jsx(We,{htmlFor:"pricing_model",children:"Modelo de Precificação"}),m.jsxs(Fe,{value:i.pricing_model||"",onValueChange:e=>u("pricing_model",e),children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Como será a precificação?"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"pagamento-unico",children:"Pagamento único"}),m.jsx(ze,{value:"parcelado",children:"Parcelado"}),m.jsx(ze,{value:"assinatura",children:"Assinatura mensal"}),m.jsx(ze,{value:"assinatura-anual",children:"Assinatura anual"})]})]})]}),m.jsxs("div",{children:[m.jsx(We,{htmlFor:"call_to_action",children:"Call-to-Action Principal *"}),m.jsx(G,{id:"call_to_action",value:i.call_to_action||"",onChange:e=>u("call_to_action",e.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx(We,{htmlFor:"lead_destination",children:"Para onde direcionar os leads? *"}),m.jsxs(Fe,{value:i.lead_destination||"",onValueChange:e=>u("lead_destination",e),children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Escolha o destino"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"whatsapp",children:"WhatsApp"}),m.jsx(ze,{value:"formulario",children:"Formulário de contato"}),m.jsx(ze,{value:"email",children:"Email direto"}),m.jsx(ze,{value:"checkout",children:"Página de checkout"}),m.jsx(ze,{value:"agendamento",children:"Sistema de agendamento"})]})]})]})]})]}),m.jsx(Ue,{}),m.jsxs("section",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-3 text-purple-800",children:"Página 3: Visual & Marketing"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"brand_colors",children:"Cores da Marca"}),m.jsx(G,{id:"brand_colors",value:i.brand_colors||"",onChange:e=>u("brand_colors",e.target.value)})]}),m.jsxs("div",{children:[m.jsx(We,{htmlFor:"has_logo",children:"Logo da Empresa"}),m.jsxs(Fe,{value:i.has_logo||"",onValueChange:e=>u("has_logo",e),children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Você tem logo?"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"tem-logo",children:"Sim, tenho logo profissional"}),m.jsx(ze,{value:"logo-simples",children:"Tenho algo simples que pode ser melhorado"}),m.jsx(ze,{value:"sem-logo",children:"Não tenho logo, preciso criar"})]})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"visual_references",children:"Referências Visuais"}),m.jsx(Oe,{id:"visual_references",value:i.visual_references||"",onChange:e=>u("visual_references",e.target.value),rows:3})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"content_materials",children:"Materiais Próprios para a Landing Page"}),m.jsx(Oe,{id:"content_materials",value:i.content_materials||"",onChange:e=>u("content_materials",e.target.value),rows:3})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"brand_personality",children:"Personalidade da Marca"}),m.jsx(Oe,{id:"brand_personality",value:i.brand_personality||"",onChange:e=>u("brand_personality",e.target.value),rows:2})]}),m.jsxs("div",{children:[m.jsx(We,{htmlFor:"communication_tone",children:"Tom de Comunicação"}),m.jsxs(Fe,{value:i.communication_tone||"",onValueChange:e=>u("communication_tone",e),children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Como prefere se comunicar?"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"formal",children:"Formal e profissional"}),m.jsx(ze,{value:"informal",children:"Informal e próximo"}),m.jsx(ze,{value:"emocional",children:"Emocional e inspirador"}),m.jsx(ze,{value:"direto",children:"Direto e objetivo"})]})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"key_messages",children:"Mensagens-Chave"}),m.jsx(Oe,{id:"key_messages",value:i.key_messages||"",onChange:e=>u("key_messages",e.target.value),rows:3})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"landing_page_sections",children:"Seções da Landing Page"}),m.jsx(Oe,{id:"landing_page_sections",value:i.landing_page_sections||"",onChange:e=>u("landing_page_sections",e.target.value),rows:4})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"specific_requirements",children:"Requisitos Específicos"}),m.jsx(Oe,{id:"specific_requirements",value:i.specific_requirements||"",onChange:e=>u("specific_requirements",e.target.value),rows:3})]})]})]}),m.jsx(Ue,{}),m.jsxs("section",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-3 text-orange-800",children:"Página 4: Configurações Técnicas"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"desired_domain",children:"Domínio Desejado"}),m.jsx(G,{id:"desired_domain",value:i.desired_domain||"",onChange:e=>u("desired_domain",e.target.value)})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"integrations",children:"Integrações Necessárias"}),m.jsx(Oe,{id:"integrations",value:i.integrations||"",onChange:e=>u("integrations",e.target.value),rows:3})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"analytics_tracking",children:"Analytics e Tracking"}),m.jsx(Oe,{id:"analytics_tracking",value:i.analytics_tracking||"",onChange:e=>u("analytics_tracking",e.target.value),rows:3})]})]})]}),m.jsx(Ue,{}),m.jsxs("section",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-3 text-red-800",children:"Página 5: Timeline"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(We,{htmlFor:"deadline",children:"Prazo de Entrega *"}),m.jsx(G,{id:"deadline",value:i.deadline||"",onChange:e=>u("deadline",e.target.value),required:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(We,{htmlFor:"additional_notes",children:"Observações Adicionais"}),m.jsx(Oe,{id:"additional_notes",value:i.additional_notes||"",onChange:e=>u("additional_notes",e.target.value),rows:4})]})]})]})]})}),m.jsxs(Wa,{className:"mt-6",children:[m.jsxs(se,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:r,children:[m.jsx(te,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),m.jsxs(se,{type:"submit",disabled:r,children:[m.jsx(ne,{className:"w-4 h-4 mr-2"}),r?"Salvando...":"Salvar Alterações"]})]})]})]})]})},Lt=({briefing:e,onUpdate:a})=>{const[s,t]=q.useState(!1),[r,n]=q.useState(!1),[i,l]=q.useState(e.proposal_value?e.proposal_value.toString():""),o=e.proposal_value?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.proposal_value):null;return m.jsxs(Fa,{open:s,onOpenChange:t,children:[m.jsx(Ra,{asChild:!0,children:m.jsxs(se,{variant:e.proposal_value?"default":"outline",size:"sm",className:"gap-2",children:[m.jsx(ie,{className:"w-4 h-4"}),e.proposal_value?"Editar Proposta":"Adicionar Proposta"]})}),m.jsxs(za,{className:"max-w-md",children:[m.jsxs(Oa,{children:[m.jsxs(Ia,{className:"flex items-center gap-2",children:[m.jsx(ie,{className:"w-5 h-5"}),e.proposal_value?"Editar":"Adicionar"," Valor da Proposta"]}),m.jsx(Va,{children:e.proposal_value?`Valor atual: ${o}`:`Defina o valor da proposta para ${e.company_name}`})]}),m.jsxs("form",{onSubmit:s=>d(void 0,null,(function*(){s.preventDefault(),n(!0);try{const s=parseFloat(i);if(isNaN(s)||s<=0)return alert("Por favor, insira um valor válido maior que zero"),void n(!1);if(!e.id)return alert("Erro: ID do briefing não encontrado"),void n(!1);let r;r=(e=>"website_goal"in e&&"website_type"in e)(e)?yield Y(e.id,s):yield B(e.id,s),a(r),t(!1),alert("Valor da proposta adicionado com sucesso!")}catch(r){const e=r instanceof Error?r.message:"Erro desconhecido";alert(`Erro ao adicionar valor da proposta: ${e}`)}finally{n(!1)}})),children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(We,{htmlFor:"proposal_value",children:"Valor da Proposta *"}),m.jsx(G,{id:"proposal_value",type:"number",step:"0.01",min:"0",value:i,onChange:e=>(e=>{const a=e.replace(/[^\d.,]/g,"");l(a)})(e.target.value),placeholder:"5000.00",required:!0}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Digite o valor em reais (ex: 5000 para R$ 5.000,00)"})]}),e.proposal_date&&m.jsxs("div",{className:"text-sm text-gray-600",children:[m.jsx("strong",{children:"Última atualização:"})," ",new Date(e.proposal_date).toLocaleDateString("pt-BR")]})]}),m.jsxs(Wa,{className:"mt-6",children:[m.jsxs(se,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:r,children:[m.jsx(te,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),m.jsxs(se,{type:"submit",disabled:r,children:[m.jsx(ne,{className:"w-4 h-4 mr-2"}),r?"Salvando...":"Salvar Proposta"]})]})]})]})]})},qt=e=>"website_goal"in e&&"website_type"in e,zt=({briefing:e,onUpdate:a,onDelete:s})=>{const[t,r]=q.useState(!1),[n,i]=q.useState(!1),l=e=>{try{return yt(Nt(e),"dd 'de' MMMM 'de' yyyy 'às' HH:mm",{locale:Ft})}catch(a){return e}},o=(()=>{if(!e.deadline)return{text:"Sem prazo",color:"bg-gray-500"};const a=new Date(e.deadline),s=new Date,t=a.getTime()-s.getTime(),r=Math.ceil(t/864e5);return r<=10?{text:"Urgente",color:"bg-red-500"}:r<=20?{text:"Moderado",color:"bg-yellow-500"}:{text:"Flexível",color:"bg-green-500"}})(),c=e=>{null==a||a(e)};return m.jsx(m.Fragment,{children:m.jsxs(J,{className:"hover:shadow-lg transition-all duration-200 bg-white border border-gray-200",children:[m.jsx(Z,{className:"pb-3",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx(K,{className:"text-lg font-semibold text-gray-900 mb-1",children:e.company_name}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx(le,{className:"w-4 h-4"}),m.jsx("span",{children:e.business_segment})]}),m.jsx("div",{className:"flex items-center gap-2 mt-1",children:qt(e)?m.jsxs(m.Fragment,{children:[m.jsx(oe,{className:"w-4 h-4 text-blue-600"}),m.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Site Institucional"})]}):m.jsxs(m.Fragment,{children:[m.jsx(ce,{className:"w-4 h-4 text-purple-600"}),m.jsx("span",{className:"text-xs text-purple-600 font-medium",children:"Landing Page"})]})})]}),m.jsx(Ve,{className:`${o.color} text-white`,children:o.text})]})}),m.jsxs(ee,{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ie,{className:"w-4 h-4 text-green-600"}),m.jsx("span",{className:"font-medium",children:e.budget||"Não informado"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(de,{className:"w-4 h-4 text-blue-600"}),m.jsx("span",{children:e.deadline})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(me,{className:"w-4 h-4 text-purple-600"}),m.jsx("span",{className:"font-medium",children:e.responsible_name})]}),m.jsx("div",{className:"flex items-center gap-2 text-sm",children:qt(e)?m.jsxs(m.Fragment,{children:[m.jsx(oe,{className:"w-4 h-4 text-blue-600"}),m.jsx("span",{className:"text-gray-600 truncate",children:e.website_goal})]}):m.jsxs(m.Fragment,{children:[m.jsx(ce,{className:"w-4 h-4 text-orange-600"}),m.jsx("span",{className:"text-gray-600 truncate",children:e.landing_page_goal})]})})]}),m.jsx(Ue,{}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-xs text-gray-500",children:e.created_at&&l(e.created_at)}),e.proposal_value&&m.jsx(Ve,{variant:"secondary",className:"bg-green-100 text-green-800",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.proposal_value)})]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs(Fa,{open:t,onOpenChange:r,children:[m.jsx(Ra,{asChild:!0,children:m.jsxs(se,{variant:"outline",size:"sm",className:"gap-2 flex-1",children:[m.jsx(ue,{className:"w-4 h-4"}),"Ver Detalhes"]})}),m.jsxs(za,{className:"max-w-4xl max-h-[90vh]",children:[m.jsxs(Oa,{children:[m.jsxs(Ia,{className:"flex items-center gap-2",children:[m.jsx(le,{className:"w-5 h-5"}),e.company_name]}),m.jsxs(Va,{className:"space-y-1",children:[m.jsxs("div",{children:["Briefing completo recebido em ",e.created_at&&l(e.created_at)]}),m.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Desenvolvedor: Leonardo Lopes"})]})]}),m.jsx(Ma,{className:"max-h-[70vh]",children:m.jsx("div",{className:"space-y-6 pr-4",children:qt(e)?m.jsxs(m.Fragment,{children:[m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(le,{className:"w-5 h-5 text-blue-600"}),"Informações da Empresa"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nome da Empresa"}),m.jsx("p",{className:"text-gray-900",children:e.company_name})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Segmento de Atuação"}),m.jsx("p",{className:"text-gray-900",children:e.business_segment})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descrição da Empresa"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.company_description})]}),e.company_history&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"História da Empresa"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.company_history})]}),e.mission&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Missão"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.mission})]}),e.vision&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Visão"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.vision})]}),e.values&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Valores"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.values})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(oe,{className:"w-5 h-5 text-green-600"}),"Objetivos do Site Institucional"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Objetivo Principal"}),m.jsx("p",{className:"text-gray-900",children:e.website_goal})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tipo de Site"}),m.jsx("p",{className:"text-gray-900",children:e.website_type})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Funcionalidades Principais"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.main_functionalities})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Páginas Necessárias"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.required_pages})]}),e.navigation_structure&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estrutura de Navegação"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.navigation_structure})]}),e.content_hierarchy&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Hierarquia de Conteúdo"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.content_hierarchy})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(he,{className:"w-5 h-5 text-purple-600"}),"Público e Diferencial"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Público-Alvo"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.target_audience})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Diferencial Competitivo"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.competitive_advantage})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(me,{className:"w-5 h-5 text-orange-600"}),"Informações de Contato"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Responsável"}),m.jsx("p",{className:"text-gray-900",children:e.responsible_name})]}),e.current_website&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Site Atual"}),m.jsx("p",{className:"text-gray-900",children:m.jsx("a",{href:e.current_website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.current_website})})]})]})]}),(e.services_products||e.team_info||e.certifications||e.awards_recognition||e.case_studies||e.testimonials)&&m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(xe,{className:"w-5 h-5 text-green-600"}),"Conteúdo do Site"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[e.services_products&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Serviços/Produtos"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.services_products})]}),e.team_info&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Informações da Equipe"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.team_info})]}),e.certifications&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Certificações"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.certifications})]}),e.awards_recognition&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Prêmios e Reconhecimentos"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.awards_recognition})]}),e.case_studies&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Casos de Sucesso"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.case_studies})]}),e.testimonials&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Depoimentos"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.testimonials})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(pe,{className:"w-5 h-5 text-pink-600"}),"Design e Identidade Visual"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[e.brand_colors&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Cores da Marca"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.brand_colors})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Logo da Empresa"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.has_logo})]}),e.logo_files&&e.logo_files.length>0&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Arquivos de Logo"}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.logo_files.map(((e,a)=>m.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:["Logo ",a+1]},a)))})]}),e.visual_references&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Referências Visuais"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.visual_references})]}),e.visual_files&&e.visual_files.length>0&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Arquivos de Referências Visuais"}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.visual_files.map(((e,a)=>m.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:["Referência ",a+1]},a)))})]}),e.design_style&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estilo de Design"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.design_style})]})]})]}),(e.contact_forms||e.integrations||e.seo_requirements||e.analytics_tracking||e.domain_info||e.hosting_preferences)&&m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(ge,{className:"w-5 h-5 text-gray-600"}),"Funcionalidades Técnicas"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[e.contact_forms&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Formulários de Contato"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.contact_forms})]}),e.integrations&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Integrações Necessárias"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.integrations})]}),e.seo_requirements&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Requisitos de SEO"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.seo_requirements})]}),e.analytics_tracking&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ferramentas de Analytics"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.analytics_tracking})]}),e.domain_info&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Informações sobre Domínio"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.domain_info})]}),e.hosting_preferences&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Preferências de Hospedagem"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.hosting_preferences})]})]})]}),(e.main_competitors||e.customer_pain_points||e.customer_objections||e.communication_tone||e.key_messages)&&m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(ce,{className:"w-5 h-5 text-indigo-600"}),"Marketing e Comunicação"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[e.main_competitors&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Principais Concorrentes"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.main_competitors})]}),e.customer_pain_points&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Dores do Cliente"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.customer_pain_points})]}),e.customer_objections&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Objeções dos Clientes"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.customer_objections})]}),e.communication_tone&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tom de Comunicação"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.communication_tone})]}),e.key_messages&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Mensagens-Chave"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.key_messages})]})]})]}),(e.specific_requirements||e.content_materials||e.material_files)&&m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(ge,{className:"w-5 h-5 text-teal-600"}),"Requisitos e Materiais"]}),m.jsxs("div",{className:"grid grid-cols-1 gap-4 bg-gray-50 p-4 rounded-lg",children:[e.specific_requirements&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Requisitos Específicos"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.specific_requirements})]}),e.content_materials&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Materiais Próprios"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.content_materials})]}),e.material_files&&e.material_files.length>0&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Arquivos de Materiais"}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.material_files.map(((e,a)=>m.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:["Material ",a+1]},a)))})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(fe,{className:"w-5 h-5 text-red-600"}),"Timeline"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Prazo de Entrega"}),m.jsx("p",{className:"text-gray-900",children:e.deadline})]}),e.budget&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Orçamento"}),m.jsx("p",{className:"text-gray-900",children:e.budget})]}),e.start_date&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Início"}),m.jsx("p",{className:"text-gray-900",children:e.start_date})]}),e.additional_notes&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Observações Adicionais"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.additional_notes})]})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(le,{className:"w-5 h-5 text-blue-600"}),"Step 1: Informações da Empresa"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"1. Nome da Empresa/Marca"}),m.jsx("p",{className:"text-gray-900",children:e.company_name})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"2. Segmento/Nicho"}),m.jsx("p",{className:"text-gray-900",children:e.business_segment})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"3. Descrição do Negócio"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.company_description})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"4. Público-Alvo"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.target_audience})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"5. Diferencial Competitivo"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.competitive_advantage})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"6. Objetivo da Landing Page"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.landing_page_goal})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"7. Principais Concorrentes"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.main_competitors||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"8. Principais Dores do Cliente"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.customer_pain_points||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"9. Histórias de Sucesso"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.success_stories||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"10. Prova Social Disponível"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.social_proof||"Não informado"})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(ce,{className:"w-5 h-5 text-purple-600"}),"Step 2: Produto/Serviço"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"11. Nome do Responsável"}),m.jsx("p",{className:"text-gray-900",children:e.responsible_name})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"12. Site Atual (se houver)"}),m.jsx("p",{className:"text-gray-900",children:e.current_website?m.jsx("a",{href:e.current_website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.current_website}):"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"13. Nome do Produto/Serviço Principal"}),m.jsx("p",{className:"text-gray-900",children:e.product_name})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"14. Descrição Detalhada do Produto/Serviço"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.product_description})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"15. Principais Benefícios"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.main_benefits})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"16. Quantas Ofertas Terá na Landing Page?"}),m.jsx("p",{className:"text-gray-900",children:e.number_of_offers||"Não informado"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"18. Modelo de Cobrança"}),m.jsx("p",{className:"text-gray-900",children:e.pricing_model||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"17. Detalhes das Ofertas e Valores Exatos"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.offer_details||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"19. Garantias Oferecidas"}),m.jsx("p",{className:"text-gray-900 mt-1",children:e.guarantees||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"20. Resultados Esperados pelo Cliente"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.target_results||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"21. Fatores de Urgência"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.urgency_factors||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"22. Principais Objeções dos Clientes"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.objections||"Não informado"})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(pe,{className:"w-5 h-5 text-orange-600"}),"Step 3: Marketing & Design"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"23. Call-to-Action Principal"}),m.jsx("p",{className:"text-gray-900",children:e.call_to_action})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"24. Para onde direcionar os leads?"}),m.jsx("p",{className:"text-gray-900",children:e.lead_destination})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"25. Cores da Marca"}),m.jsx("p",{className:"text-gray-900",children:e.brand_colors||"Não informado"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"26. Logo da Empresa"}),m.jsx("p",{className:"text-gray-900",children:e.has_logo})]}),e.logo_files&&e.logo_files.length>0&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"27. Upload do Logo"}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.logo_files.map(((e,a)=>m.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:["Logo ",a+1]},a)))})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"28. Referências Visuais"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.visual_references||"Não informado"})]}),e.visual_files&&e.visual_files.length>0&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"29. Upload de Referências Visuais"}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.visual_files.map(((e,a)=>m.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:["Referência ",a+1]},a)))})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"30. Materiais Próprios para a Landing Page"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.content_materials||"Não informado"})]}),e.material_files&&e.material_files.length>0&&m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"31. Upload dos Seus Materiais"}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.material_files.map(((e,a)=>m.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:["Material ",a+1]},a)))})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"32. Personalidade da Marca"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.brand_personality||"Não informado"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"33. Tom de Comunicação"}),m.jsx("p",{className:"text-gray-900",children:e.communication_tone||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"34. Mensagens-Chave"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.key_messages||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"35. Seções da Landing Page"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.landing_page_sections||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"36. Requisitos Específicos"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.specific_requirements||"Não informado"})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(ge,{className:"w-5 h-5 text-gray-600"}),"Step 4: Configurações Técnicas"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"37. Domínio Desejado"}),m.jsx("p",{className:"text-gray-900",children:e.desired_domain||"Não informado"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Informações de Domínio (Sistema)"}),m.jsx("p",{className:"text-gray-900",children:e.domain_info})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"38. Integrações Necessárias"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.integrations||"Não informado"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"39. Analytics e Tracking"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.analytics_tracking||"Não informado"})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[m.jsx(fe,{className:"w-5 h-5 text-red-600"}),"Step 5: Timeline & Orçamento"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"40. Prazo de Entrega"}),m.jsx("p",{className:"text-gray-900",children:e.deadline})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"41. Orçamento"}),m.jsx("p",{className:"text-gray-900",children:e.budget||"Não informado"})]}),e.start_date&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Início"}),m.jsx("p",{className:"text-gray-900",children:e.start_date})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"42. Observações Adicionais"}),m.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:e.additional_notes||"Não informado"})]})]})]})]})})})]})]}),a&&m.jsx(Rt,{briefing:e,onUpdate:c}),a&&m.jsx(Lt,{briefing:e,onUpdate:c}),s&&m.jsxs(ps,{children:[m.jsx(gs,{asChild:!0,children:m.jsxs(se,{variant:"destructive",size:"sm",className:"gap-2",disabled:n,children:[m.jsx(je,{className:"w-4 h-4"}),n?"Excluindo...":"Excluir"]})}),m.jsxs(vs,{children:[m.jsxs(ys,{children:[m.jsx(Ns,{children:"Confirmar Exclusão"}),m.jsxs(ws,{children:["Tem certeza que deseja excluir o briefing de ",m.jsx("strong",{children:e.company_name}),"? Esta ação não pode ser desfeita."]})]}),m.jsxs(bs,{children:[m.jsx(Cs,{children:"Cancelar"}),m.jsx(_s,{onClick:()=>d(void 0,null,(function*(){if(e.id){i(!0);try{qt(e)?yield $(e.id):yield U(e.id),setTimeout((()=>{null==s||s(e.id),alert("Briefing excluído com sucesso!")}),500)}catch(a){const e=a instanceof Error?a.message:"Erro desconhecido";alert(`Erro ao excluir briefing: ${e}`)}finally{i(!1)}}else alert("Erro: ID do briefing não encontrado")})),className:"bg-red-600 hover:bg-red-700",children:"Excluir Briefing"})]})]})]})]})]})]})]})})};var Ot="Tabs",[Wt,It]=h(Ot,[M]),Vt=M(),[Ht,Yt]=Wt(Ot),Bt=q.forwardRef(((e,a)=>{const s=e,{__scopeTabs:t,value:r,onValueChange:n,defaultValue:i,orientation:d="horizontal",dir:h,activationMode:x="automatic"}=s,g=c(s,["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"]),f=p(h),[j,v]=A({prop:r,onChange:n,defaultProp:i});return m.jsx(Ht,{scope:t,baseId:F(),value:j,onValueChange:v,orientation:d,dir:f,activationMode:x,children:m.jsx(u.div,o(l({dir:f,"data-orientation":d},g),{ref:a}))})}));Bt.displayName=Ot;var $t="TabsList",Ut=q.forwardRef(((e,a)=>{const s=e,{__scopeTabs:t,loop:r=!0}=s,n=c(s,["__scopeTabs","loop"]),i=Yt($t,t),d=Vt(t);return m.jsx(R,o(l({asChild:!0},d),{orientation:i.orientation,dir:i.dir,loop:r,children:m.jsx(u.div,o(l({role:"tablist","aria-orientation":i.orientation},n),{ref:a}))}))}));Ut.displayName=$t;var Xt="TabsTrigger",Qt=q.forwardRef(((e,a)=>{const s=e,{__scopeTabs:t,value:r,disabled:n=!1}=s,i=c(s,["__scopeTabs","value","disabled"]),d=Yt(Xt,t),h=Vt(t),x=Zt(d.baseId,r),p=Kt(d.baseId,r),g=r===d.value;return m.jsx(L,o(l({asChild:!0},h),{focusable:!n,active:g,children:m.jsx(u.button,o(l({type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:x},i),{ref:a,onMouseDown:f(e.onMouseDown,(e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)})),onKeyDown:f(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)})),onFocus:f(e.onFocus,(()=>{const e="manual"!==d.activationMode;g||n||!e||d.onValueChange(r)}))}))}))}));Qt.displayName=Xt;var Gt="TabsContent",Jt=q.forwardRef(((e,a)=>{const s=e,{__scopeTabs:t,value:r,forceMount:n,children:i}=s,d=c(s,["__scopeTabs","value","forceMount","children"]),h=Yt(Gt,t),x=Zt(h.baseId,r),p=Kt(h.baseId,r),f=r===h.value,j=q.useRef(f);return q.useEffect((()=>{const e=requestAnimationFrame((()=>j.current=!1));return()=>cancelAnimationFrame(e)}),[]),m.jsx(g,{present:n||f,children:({present:s})=>m.jsx(u.div,o(l({"data-state":f?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":x,hidden:!s,id:p,tabIndex:0},d),{ref:a,style:o(l({},e.style),{animationDuration:j.current?"0s":void 0}),children:s&&i}))})}));function Zt(e,a){return`${e}-trigger-${a}`}function Kt(e,a){return`${e}-content-${a}`}Jt.displayName=Gt;var er=Ut,ar=Qt,sr=Jt;const tr=Bt,rr=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(er,l({ref:a,className:z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t)},r))}));rr.displayName=er.displayName;const nr=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(ar,l({ref:a,className:z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t)},r))}));nr.displayName=ar.displayName;const ir=q.forwardRef(((e,a)=>{var s=e,{className:t}=s,r=c(s,["className"]);return m.jsx(sr,l({ref:a,className:z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t)},r))}));ir.displayName=sr.displayName;const lr=e=>d(void 0,null,(function*(){let a=W.from("cities").select("\n      *,\n      state:states(*)\n    ").order("population",{ascending:!1});e&&(a=a.eq("state_id",e));const{data:s,error:t}=yield a;if(t)throw new Error("Erro ao carregar cidades");return s||[]})),or=e=>d(void 0,null,(function*(){let a=yield lr(e);if(a.length<=1)try{const s=yield cr(e);if(!s)return a;const t=`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${s.abbreviation}/municipios`,r=yield fetch(t);if(!r.ok)throw new Error("Falha ao buscar cidades no IBGE");const n=(yield r.json()).map((a=>({id:crypto.randomUUID(),name:a.nome,state_id:e,population:null}))),i=1e3;for(let e=0;e<n.length;e+=i){const a=n.slice(e,e+i);yield W.from("cities").insert(a,{ignoreDuplicates:!0})}a=yield lr(e)}catch(s){}return a})),cr=e=>d(void 0,null,(function*(){const{data:a,error:s}=yield W.from("states").select("*").eq("id",e).single();return s?null:a})),dr=e=>d(void 0,null,(function*(){let a=W.from("captation_sites").select("\n      *,\n      city:cities(\n        *,\n        state:states(*)\n      ),\n      category:categories(*)\n    ").order("created_at",{ascending:!1});(null==e?void 0:e.cityId)&&(a=a.eq("city_id",e.cityId)),(null==e?void 0:e.categoryId)&&(a=a.eq("category_id",e.categoryId)),(null==e?void 0:e.status)&&(a=a.eq("proposal_status",e.status));const{data:s,error:t}=yield a;if(t)throw new Error("Erro ao carregar sites de captação");let r=s||[];return(null==e?void 0:e.stateId)&&(r=r.filter((a=>{var s,t;return(null==(t=null==(s=a.city)?void 0:s.state)?void 0:t.id)===e.stateId}))),r})),mr=e=>d(void 0,null,(function*(){const a=e,{id:s}=a,t=c(a,["id"]),{data:r,error:n}=yield W.from("captation_sites").update(t).eq("id",s).select("\n      *,\n      city:cities(\n        *,\n        state:states(*)\n      ),\n      category:categories(*)\n    ").single();if(n)throw new Error("Erro ao atualizar site de captação");return r})),ur=e=>d(void 0,null,(function*(){try{let a=W.from("captation_sites").select("\n        *,\n        city:cities(\n          *,\n          state:states(*)\n        ),\n        category:categories(*)\n      ");(null==e?void 0:e.categoryId)&&(a=a.eq("category_id",e.categoryId));const{data:s,error:t}=yield a;if(t)throw t;let r=s||[];(null==e?void 0:e.stateId)&&(r=r.filter((a=>{var s,t;return(null==(t=null==(s=a.city)?void 0:s.state)?void 0:t.id)===e.stateId})));const n=r.length,i=r.filter((e=>"pending"===e.proposal_status)).length,l=r.filter((e=>"to_send"===e.proposal_status)).length,o=r.filter((e=>"accepted"===e.proposal_status)).length,c=r.filter((e=>"rejected"===e.proposal_status)).length,d=r.filter((e=>"in_progress"===e.proposal_status)).length,m=r.filter((e=>"paid"===e.proposal_status)).length,u=r.filter((e=>"paid"===e.proposal_status&&e.service_value)).reduce(((e,a)=>e+(a.service_value||0)),0),h=n>0?o/n*100:0,x=r.reduce(((e,a)=>{var s,t;const r=(null==(s=a.category)?void 0:s.name)||"Sem categoria",n=(null==(t=a.category)?void 0:t.color)||"#6366F1";return e[r]||(e[r]={category_name:r,category_color:n,count:0}),e[r].count++,e}),{}),p=r.reduce(((e,a)=>{var s;const t=(null==(s=a.city)?void 0:s.name)||"Sem cidade";return e[t]||(e[t]={city_name:t,count:0}),e[t].count++,e}),{});return{total_sites:n,pending_proposals:i,to_send_proposals:l,accepted_proposals:o,rejected_proposals:c,in_progress_proposals:d,paid_proposals:m,total_paid_value:u,conversion_rate:h,sites_by_category:Object.values(x).sort(((e,a)=>a.count-e.count)),sites_by_city:Object.values(p).sort(((e,a)=>a.count-e.count)).slice(0,10)}}catch(a){throw new Error("Erro ao carregar estatísticas")}})),hr=({open:e,onOpenChange:a,states:s,cities:t,categories:r,onSiteAdded:n})=>{const[i,c]=q.useState({company_name:"",website_url:"",state_id:"",city_id:"",category_id:"",contact_person:"",phone:"",email:"",contact_link:"",proposal_link:"",proposal_status:"pending",service_value:"",notes:""}),[u,h]=q.useState(!1),[x,p]=q.useState(null),[g,f]=q.useState([]);q.useEffect((()=>{d(void 0,null,(function*(){if(i.state_id)try{const e=yield or(i.state_id);f(e)}catch(e){}else f([])}))}),[i.state_id]);const j=g,v=()=>{u||(a(!1),p(null))};return m.jsx(Fa,{open:e,onOpenChange:v,children:m.jsxs(za,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[m.jsx(Oa,{children:m.jsxs(Ia,{className:"flex items-center gap-2",children:[m.jsx(ve,{className:"w-5 h-5"}),"Adicionar Novo Site"]})}),m.jsxs("form",{onSubmit:e=>d(void 0,null,(function*(){var s;if(e.preventDefault(),i.company_name&&i.city_id&&i.category_id)if("paid"!==i.proposal_status||i.service_value)try{h(!0),p(null),yield(s={company_name:i.company_name,website_url:i.website_url||void 0,city_id:i.city_id,category_id:i.category_id,contact_person:i.contact_person||void 0,phone:i.phone||void 0,email:i.email||void 0,contact_link:i.contact_link||void 0,proposal_link:i.proposal_link||void 0,proposal_status:i.proposal_status,service_value:i.service_value?parseFloat(i.service_value.replace(/[^\d,]/g,"").replace(",",".")):void 0,notes:i.notes||void 0},d(void 0,null,(function*(){const{data:e,error:a}=yield W.from("captation_sites").insert(o(l({},s),{proposal_status:s.proposal_status||"pending"})).select("\n      *,\n      city:cities(\n        *,\n        state:states(*)\n      ),\n      category:categories(*)\n    ").single();if(a)throw new Error("Erro ao criar site de captação");return e}))),c({company_name:"",website_url:"",state_id:"",city_id:"",category_id:"",contact_person:"",phone:"",email:"",contact_link:"",proposal_link:"",proposal_status:"pending",service_value:"",notes:""}),n(),a(!1)}catch(t){p(t.message)}finally{h(!1)}else p('O valor do serviço é obrigatório para status "Projeto Pago"');else p("Por favor, preencha todos os campos obrigatórios")})),className:"space-y-4",children:[x&&m.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:m.jsx("p",{className:"text-red-800 text-sm",children:x})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"company_name",children:"Nome da Empresa *"}),m.jsx(G,{id:"company_name",value:i.company_name,onChange:e=>c((a=>o(l({},a),{company_name:e.target.value}))),placeholder:"Ex: Advocacia Silva & Associados",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"website_url",children:"Website"}),m.jsx(G,{id:"website_url",type:"url",value:i.website_url,onChange:e=>c((a=>o(l({},a),{website_url:e.target.value}))),placeholder:"https://exemplo.com.br"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"state",children:"Estado *"}),m.jsxs(Fe,{value:i.state_id,onValueChange:e=>{c((a=>o(l({},a),{state_id:e,city_id:""})))},required:!0,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecionar Estado"})}),m.jsx(qe,{children:s.filter((e=>"Não identificada"!==e.name)).map((e=>m.jsx(ze,{value:e.id,children:e.name},e.id)))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"city",children:"Cidade *"}),m.jsxs(Fe,{value:i.city_id,onValueChange:e=>c((a=>o(l({},a),{city_id:e}))),required:!0,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecionar Cidade"})}),m.jsx(qe,{children:j.sort(((e,a)=>"Não identificada"===e.name?-1:"Não identificada"===a.name?1:e.name.localeCompare(a.name))).map((e=>m.jsxs(ze,{value:e.id,children:[e.name," ",e.population?`(${e.population.toLocaleString()} hab.)`:""]},e.id)))})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"category",children:"Categoria *"}),m.jsxs(Fe,{value:i.category_id,onValueChange:e=>c((a=>o(l({},a),{category_id:e}))),required:!0,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecionar Categoria"})}),m.jsx(qe,{children:r.map((e=>m.jsx(ze,{value:e.id,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),e.name]})},e.id)))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"proposal_status",children:"Status da Proposta"}),m.jsxs(Fe,{value:i.proposal_status,onValueChange:e=>c((a=>o(l({},a),{proposal_status:e}))),children:[m.jsx(Re,{children:m.jsx(Le,{})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"pending",children:"Pendente"}),m.jsx(ze,{value:"to_send",children:"A Enviar"}),m.jsx(ze,{value:"accepted",children:"Aceita"}),m.jsx(ze,{value:"rejected",children:"Negada"}),m.jsx(ze,{value:"in_progress",children:"Em Execução"}),m.jsx(ze,{value:"paid",children:"Projeto Pago"})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"contact_person",children:"Pessoa de Contato"}),m.jsx(G,{id:"contact_person",value:i.contact_person,onChange:e=>c((a=>o(l({},a),{contact_person:e.target.value}))),placeholder:"Nome do responsável"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"phone",children:"Telefone"}),m.jsx(G,{id:"phone",value:i.phone,onChange:e=>c((a=>o(l({},a),{phone:e.target.value}))),placeholder:"(11) 99999-9999"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"email",children:"E-mail"}),m.jsx(G,{id:"email",type:"email",value:i.email,onChange:e=>c((a=>o(l({},a),{email:e.target.value}))),placeholder:"contato@exemplo.com"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"contact_link",children:"Link de Contato"}),m.jsx(G,{id:"contact_link",type:"url",value:i.contact_link,onChange:e=>c((a=>o(l({},a),{contact_link:e.target.value}))),placeholder:"Link do WhatsApp, formulário, etc."})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"proposal_link",children:"Link da Proposta"}),m.jsx(G,{id:"proposal_link",type:"url",value:i.proposal_link,onChange:e=>c((a=>o(l({},a),{proposal_link:e.target.value}))),placeholder:"Link da proposta enviada"})]})]}),"paid"===i.proposal_status&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"service_value",children:"Valor do Serviço"}),m.jsx(G,{id:"service_value",type:"text",value:i.service_value,onChange:e=>{const a=e.target.value.replace(/[^\d,]/g,""),s=a?`R$ ${a.replace(/\B(?=(\d{3})+(?!\d))/g,".")}`:"";c((e=>o(l({},e),{service_value:s})))},placeholder:"R$ 0,00"}),m.jsx("p",{className:"text-xs text-gray-500",children:'Valor total do projeto (obrigatório para status "Projeto Pago")'})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"notes",children:"Observações"}),m.jsx(Oe,{id:"notes",value:i.notes,onChange:e=>c((a=>o(l({},a),{notes:e.target.value}))),placeholder:"Anotações adicionais sobre o contato, negociação, etc.",rows:3})]}),m.jsxs(Wa,{children:[m.jsx(se,{type:"button",variant:"outline",onClick:v,disabled:u,children:"Cancelar"}),m.jsx(se,{type:"submit",disabled:u,children:u?"Salvando...":"Salvar Site"})]})]})]})})},xr=({site:e,open:a,onOpenChange:s,states:t,cities:r,categories:n,onSiteUpdated:i})=>{const[c,u]=q.useState({company_name:"",website_url:"",state_id:"",city_id:"",category_id:"",contact_person:"",phone:"",email:"",contact_link:"",proposal_link:"",proposal_status:"pending",service_value:"",notes:""}),[h,x]=q.useState(!1),[p,g]=q.useState(!1),[f,j]=q.useState(null),[v,y]=q.useState(!1),[b,N]=q.useState([]);q.useEffect((()=>{var a;e&&u({company_name:e.company_name||"",website_url:e.website_url||"",state_id:(null==(a=e.city)?void 0:a.state_id)||"",city_id:e.city_id||"",category_id:e.category_id||"",contact_person:e.contact_person||"",phone:e.phone||"",email:e.email||"",contact_link:e.contact_link||"",proposal_link:e.proposal_link||"",proposal_status:e.proposal_status||"pending",service_value:e.service_value?`R$ ${e.service_value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`:"",notes:e.notes||""})}),[e]),q.useEffect((()=>{d(void 0,null,(function*(){if(c.state_id)try{const e=yield or(c.state_id);N(e)}catch(e){}else N([])}))}),[c.state_id]);const w=b,_=()=>{h||p||(s(!1),j(null),y(!1))};return m.jsx(Fa,{open:a,onOpenChange:_,children:m.jsxs(za,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[m.jsx(Oa,{children:m.jsxs(Ia,{className:"flex items-center gap-2",children:[m.jsx(ye,{className:"w-5 h-5"}),"Editar Site: ",null==e?void 0:e.company_name]})}),v?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:[m.jsx("h3",{className:"font-semibold text-red-800",children:"Confirmar Exclusão"}),m.jsxs("p",{className:"text-red-700 mt-2",children:["Tem certeza que deseja excluir o site ",m.jsx("strong",{children:null==e?void 0:e.company_name}),"? Esta ação não pode ser desfeita."]})]}),f&&m.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:m.jsx("p",{className:"text-red-800 text-sm",children:f})}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(se,{type:"button",variant:"outline",onClick:()=>y(!1),disabled:p,children:"Cancelar"}),m.jsx(se,{variant:"destructive",onClick:()=>d(void 0,null,(function*(){try{g(!0),j(null),yield(a=e.id,d(void 0,null,(function*(){const{error:e}=yield W.from("captation_sites").delete().eq("id",a);if(e)throw new Error("Erro ao deletar site de captação")}))),i(),s(!1),y(!1)}catch(t){j(t.message)}finally{g(!1)}var a})),disabled:p,children:p?"Excluindo...":"Confirmar Exclusão"})]})]}):m.jsxs("form",{onSubmit:a=>d(void 0,null,(function*(){if(a.preventDefault(),c.company_name&&c.city_id&&c.category_id)if("paid"!==c.proposal_status||c.service_value)try{x(!0),j(null),yield mr({id:e.id,company_name:c.company_name,website_url:c.website_url||void 0,city_id:c.city_id,category_id:c.category_id,contact_person:c.contact_person||void 0,phone:c.phone||void 0,email:c.email||void 0,contact_link:c.contact_link||void 0,proposal_link:c.proposal_link||void 0,proposal_status:c.proposal_status,service_value:c.service_value?parseFloat(c.service_value.replace(/[^\d,]/g,"").replace(",",".")):void 0,notes:c.notes||void 0}),i(),s(!1)}catch(t){j(t.message)}finally{x(!1)}else j('O valor do serviço é obrigatório para status "Projeto Pago"');else j("Por favor, preencha todos os campos obrigatórios")})),className:"space-y-4",children:[f&&m.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:m.jsx("p",{className:"text-red-800 text-sm",children:f})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"company_name",children:"Nome da Empresa *"}),m.jsx(G,{id:"company_name",value:c.company_name,onChange:e=>u((a=>o(l({},a),{company_name:e.target.value}))),placeholder:"Ex: Advocacia Silva & Associados",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"website_url",children:"Website"}),m.jsx(G,{id:"website_url",type:"url",value:c.website_url,onChange:e=>u((a=>o(l({},a),{website_url:e.target.value}))),placeholder:"https://exemplo.com.br"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"state",children:"Estado *"}),m.jsxs(Fe,{value:c.state_id,onValueChange:e=>{u((a=>o(l({},a),{state_id:e,city_id:""})))},required:!0,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecionar Estado"})}),m.jsx(qe,{children:t.filter((e=>"Não identificada"!==e.name)).map((e=>m.jsx(ze,{value:e.id,children:e.name},e.id)))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"city",children:"Cidade *"}),m.jsxs(Fe,{value:c.city_id,onValueChange:e=>u((a=>o(l({},a),{city_id:e}))),required:!0,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecionar Cidade"})}),m.jsx(qe,{children:w.sort(((e,a)=>"Não identificada"===e.name?-1:"Não identificada"===a.name?1:e.name.localeCompare(a.name))).map((e=>m.jsxs(ze,{value:e.id,children:[e.name," ",e.population?`(${e.population.toLocaleString()} hab.)`:""]},e.id)))})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"category",children:"Categoria *"}),m.jsxs(Fe,{value:c.category_id,onValueChange:e=>u((a=>o(l({},a),{category_id:e}))),required:!0,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecionar Categoria"})}),m.jsx(qe,{children:n.map((e=>m.jsx(ze,{value:e.id,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),e.name]})},e.id)))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"proposal_status",children:"Status da Proposta"}),m.jsxs(Fe,{value:c.proposal_status,onValueChange:e=>u((a=>o(l({},a),{proposal_status:e}))),children:[m.jsx(Re,{children:m.jsx(Le,{})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"pending",children:"Pendente"}),m.jsx(ze,{value:"to_send",children:"A Enviar"}),m.jsx(ze,{value:"accepted",children:"Aceita"}),m.jsx(ze,{value:"rejected",children:"Negada"}),m.jsx(ze,{value:"in_progress",children:"Em Execução"}),m.jsx(ze,{value:"paid",children:"Projeto Pago"})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"contact_person",children:"Pessoa de Contato"}),m.jsx(G,{id:"contact_person",value:c.contact_person,onChange:e=>u((a=>o(l({},a),{contact_person:e.target.value}))),placeholder:"Nome do responsável"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"phone",children:"Telefone"}),m.jsx(G,{id:"phone",value:c.phone,onChange:e=>u((a=>o(l({},a),{phone:e.target.value}))),placeholder:"(11) 99999-9999"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"email",children:"E-mail"}),m.jsx(G,{id:"email",type:"email",value:c.email,onChange:e=>u((a=>o(l({},a),{email:e.target.value}))),placeholder:"contato@exemplo.com"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"contact_link",children:"Link de Contato"}),m.jsx(G,{id:"contact_link",type:"url",value:c.contact_link,onChange:e=>u((a=>o(l({},a),{contact_link:e.target.value}))),placeholder:"Link do WhatsApp, formulário, etc."})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"proposal_link",children:"Link da Proposta"}),m.jsx(G,{id:"proposal_link",type:"url",value:c.proposal_link,onChange:e=>u((a=>o(l({},a),{proposal_link:e.target.value}))),placeholder:"Link da proposta enviada"})]})]}),"paid"===c.proposal_status&&m.jsxs("div",{className:"space-y-2",children:[m.jsxs(We,{htmlFor:"service_value",className:"flex items-center gap-2",children:[m.jsx(ie,{className:"w-4 h-4"}),"Valor do Serviço"]}),m.jsx(G,{id:"service_value",type:"text",value:c.service_value,onChange:e=>{const a=e.target.value.replace(/[^\d,]/g,""),s=a?`R$ ${a.replace(/\B(?=(\d{3})+(?!\d))/g,".")}`:"";u((e=>o(l({},e),{service_value:s})))},placeholder:"R$ 0,00"}),m.jsx("p",{className:"text-xs text-gray-500",children:'Valor total do projeto (obrigatório para status "Projeto Pago")'})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"notes",children:"Observações"}),m.jsx(Oe,{id:"notes",value:c.notes,onChange:e=>u((a=>o(l({},a),{notes:e.target.value}))),placeholder:"Anotações adicionais sobre o contato, negociação, etc.",rows:3})]}),m.jsxs(Wa,{className:"flex justify-between",children:[m.jsxs(se,{type:"button",variant:"destructive",onClick:()=>y(!0),disabled:h,className:"gap-2",children:[m.jsx(je,{className:"w-4 h-4"}),"Excluir Site"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(se,{type:"button",variant:"outline",onClick:_,disabled:h,children:"Cancelar"}),m.jsx(se,{type:"submit",disabled:h,children:h?"Salvando...":"Salvar Alterações"})]})]})]})]})})},pr=({open:e,onOpenChange:a,currentStatus:s,onStatusChange:t,companyName:r})=>{const[n,i]=q.useState(s),[l,o]=q.useState(""),[c,u]=q.useState(!1);return m.jsx(Fa,{open:e,onOpenChange:a,children:m.jsxs(za,{className:"sm:max-w-md",children:[m.jsxs(Oa,{children:[m.jsx(Ia,{children:"Alterar Status da Proposta"}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Empresa: ",m.jsx("span",{className:"font-medium",children:r})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(We,{htmlFor:"status",children:"Novo Status"}),m.jsxs(Fe,{value:n,onValueChange:e=>i(e),children:[m.jsx(Re,{children:m.jsx(Le,{})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"pending",children:"Pendente"}),m.jsx(ze,{value:"to_send",children:"A Enviar"}),m.jsx(ze,{value:"accepted",children:"Aceita"}),m.jsx(ze,{value:"rejected",children:"Negada"}),m.jsx(ze,{value:"in_progress",children:"Em Execução"}),m.jsx(ze,{value:"paid",children:"Projeto Pago"})]})]})]}),"paid"===n&&m.jsxs("div",{className:"space-y-2",children:[m.jsxs(We,{htmlFor:"serviceValue",className:"flex items-center gap-2",children:[m.jsx(ie,{className:"w-4 h-4"}),"Valor do Serviço *"]}),m.jsx(G,{id:"serviceValue",type:"text",placeholder:"R$ 0,00",value:l,onChange:e=>(e=>{const a=(e=>{const a=e.replace(/[^\d,]/g,"");if(a){const e=a.split(",");return`R$ ${e[0].replace(/\B(?=(\d{3})+(?!\d))/g,".")}${e[1]?`,${e[1].slice(0,2)}`:""}`}return""})(e);o(a)})(e.target.value),required:!0}),m.jsx("p",{className:"text-xs text-gray-500",children:"Informe o valor total do projeto para contabilização"})]})]}),m.jsxs(Wa,{children:[m.jsx(se,{variant:"outline",onClick:()=>a(!1),disabled:c,children:"Cancelar"}),m.jsx(se,{onClick:()=>d(void 0,null,(function*(){try{u(!0);const e="paid"===n&&l?parseFloat(l.replace(/[^\d,]/g,"").replace(",",".")):void 0;yield t(n,e),a(!1),i(s),o("")}catch(e){}finally{u(!1)}})),disabled:c||"paid"===n&&!l,children:c?"Salvando...":"Salvar Alteração"})]})]})})},gr=()=>{const[e,a]=q.useState([]),[s,t]=q.useState([]),[r,n]=q.useState([]),[i,l]=q.useState([]),[o,c]=q.useState([]),[u,h]=q.useState(null),[x,p]=q.useState("all"),[g,f]=q.useState("all"),[j,v]=q.useState("all"),[y,b]=q.useState(""),[N,w]=q.useState(!0),[_,C]=q.useState(null),[S,P]=q.useState(!1),[D,E]=q.useState(null),[k,T]=q.useState(null);q.useEffect((()=>{M()}),[]),q.useEffect((()=>{N||A()}),[x,g,j]),q.useEffect((()=>{if(x&&"all"!==x){const e=s.filter((e=>e.state_id===x));e.length>0&&"all"!==g&&!e.find((e=>e.id===g))&&f("all")}}),[x,s,g]),q.useEffect((()=>{d(void 0,null,(function*(){if("all"!==x)try{const e=yield or(x);n(e)}catch(e){}else n([])}))}),[x]);const M=()=>d(void 0,null,(function*(){try{w(!0);const[e,s]=yield Promise.all([d(void 0,null,(function*(){const{data:e,error:a}=yield W.from("states").select("*").order("name");if(a)throw new Error("Erro ao carregar estados");return e||[]})),d(void 0,null,(function*(){const{data:e,error:a}=yield W.from("categories").select("*").order("name");if(a)throw new Error("Erro ao carregar categorias");return e||[]}))]);a(e),l(s),yield A()}catch(e){C(e.message)}finally{w(!1)}})),A=()=>d(void 0,null,(function*(){try{const e={stateId:"all"!==x?x:void 0,cityId:"all"!==g?g:void 0,categoryId:"all"!==j?j:void 0},[a,s]=yield Promise.all([dr(e),ur(e)]);c(a),h(s)}catch(e){C(e.message)}})),F=e=>{switch(e){case"to_send":return m.jsxs(Ve,{variant:"default",className:"bg-orange-500",children:[m.jsx(be,{className:"w-3 h-3 mr-1"}),"A Enviar"]});case"accepted":return m.jsxs(Ve,{variant:"default",className:"bg-green-500",children:[m.jsx(Ne,{className:"w-3 h-3 mr-1"}),"Aceita"]});case"rejected":return m.jsxs(Ve,{variant:"destructive",children:[m.jsx(ke,{className:"w-3 h-3 mr-1"}),"Negada"]});case"in_progress":return m.jsxs(Ve,{variant:"default",className:"bg-blue-500",children:[m.jsx(we,{className:"w-3 h-3 mr-1"}),"Em Execução"]});case"paid":return m.jsxs(Ve,{variant:"default",className:"bg-purple-500",children:[m.jsx(ie,{className:"w-3 h-3 mr-1"}),"Projeto Pago"]});default:return m.jsxs(Ve,{variant:"secondary",children:[m.jsx(de,{className:"w-3 h-3 mr-1"}),"Pendente"]})}},R=o.filter((e=>{var a,s,t;return!y||(e.company_name.toLowerCase().includes(y.toLowerCase())||(null==(a=e.city)?void 0:a.name.toLowerCase().includes(y.toLowerCase()))||(null==(s=e.category)?void 0:s.name.toLowerCase().includes(y.toLowerCase()))||(null==(t=e.contact_person)?void 0:t.toLowerCase().includes(y.toLowerCase())))})),L="all"!==x?r:[];return N?m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):_?m.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[m.jsxs("p",{className:"text-red-800",children:["Erro: ",_]}),m.jsx(se,{onClick:M,variant:"outline",size:"sm",className:"mt-2",children:"Tentar Novamente"})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Checklists de Captação"}),m.jsx("p",{className:"text-gray-600",children:"Gerencie sites captados por estado, cidade e categoria"})]}),m.jsxs(se,{onClick:()=>P(!0),className:"gap-2",children:[m.jsx(ve,{className:"w-4 h-4"}),"Adicionar Site"]})]}),u&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-7 gap-4",children:[m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"Total de Sites"}),m.jsx(le,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx(ee,{children:m.jsx("div",{className:"text-2xl font-bold",children:u.total_sites})})]}),m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"Pendentes"}),m.jsx(de,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx(ee,{children:m.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:u.pending_proposals})})]}),m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"A Enviar"}),m.jsx(be,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx(ee,{children:m.jsx("div",{className:"text-2xl font-bold text-orange-600",children:u.to_send_proposals})})]}),m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"Aceitas"}),m.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx(ee,{children:m.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.accepted_proposals})})]}),m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"Em Execução"}),m.jsx(we,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx(ee,{children:m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.in_progress_proposals})})]}),m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"Projetos Pagos"}),m.jsx(ie,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx(ee,{children:m.jsx("div",{className:"text-2xl font-bold text-purple-600",children:u.paid_proposals})})]}),m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"Valor Total Pago"}),m.jsx(_e,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx(ee,{children:m.jsxs("div",{className:"text-xl font-bold text-green-600",children:["R$ ",u.total_paid_value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]})]}),m.jsxs(J,{children:[m.jsx(Z,{children:m.jsxs(K,{className:"flex items-center gap-2",children:[m.jsx(Ce,{className:"w-5 h-5"}),"Filtros"]})}),m.jsx(ee,{children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),m.jsx(G,{placeholder:"Buscar sites...",value:y,onChange:e=>b(e.target.value),className:"pl-10"})]}),m.jsxs(Fe,{value:x,onValueChange:p,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecionar Estado"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"all",children:"Todos os Estados"}),e.filter((e=>"Não identificada"!==e.name)).map((e=>m.jsx(ze,{value:e.id,children:e.name},e.id)))]})]}),m.jsxs(Fe,{value:g,onValueChange:f,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecionar Cidade"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"all",children:"Todas as Cidades"}),L.sort(((e,a)=>"Não identificada"===e.name?-1:"Não identificada"===a.name?1:e.name.localeCompare(a.name))).map((e=>m.jsxs(ze,{value:e.id,children:[e.name," ",e.population?`(${e.population.toLocaleString()} hab.)`:""]},e.id)))]})]}),m.jsxs(Fe,{value:j,onValueChange:v,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Selecionar Categoria"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"all",children:"Todas as Categorias"}),i.map((e=>m.jsx(ze,{value:e.id,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),e.name]})},e.id)))]})]}),m.jsx(se,{variant:"outline",onClick:()=>{p("all"),f("all"),v("all"),b("")},children:"Limpar Filtros"})]})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx("div",{className:"flex justify-between items-center",children:m.jsxs("h3",{className:"text-lg font-semibold",children:["Sites Captados (",R.length,")"]})}),0===R.length?m.jsx(J,{children:m.jsxs(ee,{className:"text-center py-8",children:[m.jsx(le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-500",children:"Nenhum site encontrado com os filtros aplicados"})]})}):m.jsx("div",{className:"grid gap-4",children:R.map((e=>{var a,s,t,r,n,i;return m.jsx(J,{className:"hover:shadow-md transition-shadow",children:m.jsxs(ee,{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold",children:e.company_name}),m.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Pe,{className:"w-4 h-4"}),null==(a=e.city)?void 0:a.name,", ",null==(t=null==(s=e.city)?void 0:s.state)?void 0:t.abbreviation]}),m.jsxs("span",{className:"flex items-center gap-1",style:{color:null==(r=e.category)?void 0:r.color},children:[m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:null==(n=e.category)?void 0:n.color}}),null==(i=e.category)?void 0:i.name]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[F(e.proposal_status),m.jsx(se,{size:"sm",variant:"outline",onClick:()=>T(e),children:"Alterar Status"}),e.service_value&&"paid"===e.proposal_status&&m.jsxs("div",{className:"text-sm font-medium text-green-600",children:["R$ ",e.service_value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.contact_person&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contato"}),m.jsx("p",{className:"text-sm text-gray-600",children:e.contact_person})]}),e.phone&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Telefone"}),m.jsx("p",{className:"text-sm text-gray-600",children:e.phone})]}),e.email&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"E-mail"}),m.jsx("p",{className:"text-sm text-gray-600",children:e.email})]}),e.website_url&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Website"}),m.jsxs("a",{href:e.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:["Ver site ",m.jsx(De,{className:"w-3 h-3"})]})]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex gap-2",children:[e.contact_link&&m.jsx(se,{size:"sm",variant:"outline",asChild:!0,children:m.jsxs("a",{href:e.contact_link,target:"_blank",rel:"noopener noreferrer",children:[m.jsx(Ee,{className:"w-4 h-4 mr-1"}),"Contato"]})}),e.proposal_link&&m.jsx(se,{size:"sm",variant:"outline",asChild:!0,children:m.jsxs("a",{href:e.proposal_link,target:"_blank",rel:"noopener noreferrer",children:[m.jsx(xe,{className:"w-4 h-4 mr-1"}),"Proposta"]})})]}),m.jsx(se,{size:"sm",variant:"ghost",onClick:()=>E(e),children:"Editar"})]}),e.notes&&m.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Observações"}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.notes})]})]})},e.id)}))})]}),m.jsx(hr,{open:S,onOpenChange:P,states:e,cities:s,categories:i,onSiteAdded:A}),D&&m.jsx(xr,{site:D,open:!!D,onOpenChange:e=>!e&&E(null),states:e,cities:s,categories:i,onSiteUpdated:A}),k&&m.jsx(pr,{open:!!k,onOpenChange:e=>!e&&T(null),currentStatus:k.proposal_status,onStatusChange:(e,a)=>d(void 0,null,(function*(){if(k)try{const s=yield mr({id:k.id,proposal_status:e,service_value:a});c((e=>e.map((e=>e.id===k.id?s:e)))),yield A()}catch(s){}})),companyName:k.company_name})]})},fr=()=>{const{user:e,signOut:a}=I(),[s,t]=q.useState([]),[r,n]=q.useState([]),[i,l]=q.useState([]),[o,c]=q.useState([]),[u,h]=q.useState(!0),[x,p]=q.useState(null),[g,f]=q.useState(""),[j,v]=q.useState("all"),[y,b]=q.useState("all"),[N,w]=q.useState("all"),[_,C]=q.useState("landing-pages");q.useEffect((()=>{S()}),[]),q.useEffect((()=>{T()}),[s,r,g,j,y,N,_]);const S=()=>d(void 0,null,(function*(){try{const{data:e,error:a}=yield W.from("client_briefings").select("id, company_name, created_at").limit(5),{data:s,error:r}=yield W.from("institutional_briefings").select("id, company_name, created_at").limit(5),[i,l]=yield Promise.all([X(),Q()]);t(i||[]),n(l||[]),p("")}catch(e){const a=e instanceof Error?e.message:"Erro desconhecido ao carregar briefings";p(`Erro ao carregar briefings: ${a}`)}finally{h(!1)}})),P=e=>{t((a=>a.map((a=>a.id===e.id?e:a))))},D=e=>{n((a=>a.map((a=>a.id===e.id?e:a))))},E=e=>d(void 0,null,(function*(){t((a=>a.filter((a=>a.id!==e))));try{const a=JSON.parse(localStorage.getItem("briefings")||"[]").filter((a=>a.id!==e));localStorage.setItem("briefings",JSON.stringify(a))}catch(a){}setTimeout((()=>d(void 0,null,(function*(){yield S()}))),1e3)})),k=e=>d(void 0,null,(function*(){n((a=>a.filter((a=>a.id!==e))));try{const a=JSON.parse(localStorage.getItem("institutional_briefings")||"[]").filter((a=>a.id!==e));localStorage.setItem("institutional_briefings",JSON.stringify(a))}catch(a){}setTimeout((()=>d(void 0,null,(function*(){yield S()}))),1e3)})),T=()=>{let e=s;g&&(e=e.filter((e=>e.company_name.toLowerCase().includes(g.toLowerCase())||e.business_segment.toLowerCase().includes(g.toLowerCase())||e.responsible_name.toLowerCase().includes(g.toLowerCase())))),"all"!==j&&s.length>0&&(e=e.filter((e=>e.budget&&e.budget.includes(j)))),"all"!==y&&(e=e.filter((e=>{var a;const s=parseInt((null==(a=e.deadline.match(/\d+/))?void 0:a[0])||"0");return"urgent"===y?s<=10:"moderate"===y?s>10&&s<=20:"flexible"!==y||s>20}))),"all"!==N&&(e=e.filter((e=>e.business_segment.toLowerCase().includes(N.toLowerCase())))),l(e);let a=r;g&&(a=a.filter((e=>e.company_name.toLowerCase().includes(g.toLowerCase())||e.business_segment.toLowerCase().includes(g.toLowerCase())||e.responsible_name.toLowerCase().includes(g.toLowerCase())))),"all"!==N&&(a=a.filter((e=>e.business_segment.toLowerCase().includes(N.toLowerCase())))),c(a)},M=()=>d(void 0,null,(function*(){try{yield a()}catch(e){}}));if(u)return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Carregando dashboard..."})]})});if(x)return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:m.jsxs("div",{className:"text-center max-w-md",children:[m.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Erro no Dashboard"}),m.jsx("p",{className:"text-gray-600 mb-4",children:x}),m.jsx(se,{onClick:S,className:"mr-2",children:"Tentar Novamente"}),m.jsx(se,{variant:"outline",onClick:M,children:"Fazer Logout"})]})});const A=(()=>{const e=s.length+r.length,a=s.length,t=r.length,n=s.filter((e=>{var a;return parseInt((null==(a=e.deadline.match(/\d+/))?void 0:a[0])||"0")<=10})).length,i=s.reduce(((e,a)=>e+(a.proposal_value||0)),0),l=r.reduce(((e,a)=>e+(a.proposal_value||0)),0),o=s.filter((e=>e.proposal_value)).length,c=r.filter((e=>e.proposal_value)).length,d=[...s,...r].reduce(((e,a)=>(e[a.business_segment]=(e[a.business_segment]||0)+1,e)),{});return{totalBriefings:e,totalLandingPages:a,totalInstitutional:t,urgentCount:n,totalProposalValue:i+l,briefingsWithProposals:o+c,topSegment:Object.entries(d).reduce(((e,a)=>d[e[0]]>d[a[0]]?e:a),["",0])[0]||"Nenhum"}})();return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm border-b",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:m.jsx(Te,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Workflow Digital"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Painel Administrativo"})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:null==e?void 0:e.email}),m.jsx("p",{className:"text-xs text-gray-500",children:"Administrador"})]}),m.jsxs(se,{variant:"outline",size:"sm",onClick:M,className:"gap-2",children:[m.jsx(Me,{className:"w-4 h-4"}),"Sair"]})]})]})})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"Total de Briefings"}),m.jsx(xe,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsxs(ee,{children:[m.jsx("div",{className:"text-2xl font-bold",children:A.totalBriefings}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Briefings recebidos"})]})]}),m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"Urgentes"}),m.jsx(de,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsxs(ee,{children:[m.jsx("div",{className:"text-2xl font-bold text-red-600",children:A.urgentCount}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Prazo ≤ 10 dias"})]})]}),m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"Valor das Propostas"}),m.jsx(ie,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsxs(ee,{children:[m.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A.totalProposalValue)}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[A.briefingsWithProposals," de ",A.totalBriefings," briefings"]})]})]}),m.jsxs(J,{children:[m.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(K,{className:"text-sm font-medium",children:"Segmento Principal"}),m.jsx(le,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsxs(ee,{children:[m.jsx("div",{className:"text-2xl font-bold capitalize",children:A.topSegment}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Mais comum"})]})]})]}),m.jsxs(J,{className:"mb-6",children:[m.jsx(Z,{children:m.jsxs(K,{className:"flex items-center gap-2",children:[m.jsx(Ce,{className:"w-5 h-5"}),"Filtros"]})}),m.jsx(ee,{children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),m.jsx(G,{placeholder:"Buscar por empresa, segmento...",value:g,onChange:e=>f(e.target.value),className:"pl-10"})]}),m.jsxs(Fe,{value:j,onValueChange:v,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Filtrar por orçamento"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"all",children:"Todos os orçamentos"}),m.jsx(ze,{value:"1000",children:"R$ 1.000 - R$ 5.000"}),m.jsx(ze,{value:"5000",children:"R$ 5.000 - R$ 10.000"}),m.jsx(ze,{value:"10000",children:"R$ 10.000+"})]})]}),m.jsxs(Fe,{value:y,onValueChange:b,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Filtrar por urgência"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"all",children:"Todas as urgências"}),m.jsx(ze,{value:"urgent",children:"Urgente (≤ 10 dias)"}),m.jsx(ze,{value:"moderate",children:"Moderado (11-20 dias)"}),m.jsx(ze,{value:"flexible",children:"Flexível (> 20 dias)"})]})]}),m.jsxs(Fe,{value:N,onValueChange:w,children:[m.jsx(Re,{children:m.jsx(Le,{placeholder:"Filtrar por segmento"})}),m.jsxs(qe,{children:[m.jsx(ze,{value:"all",children:"Todos os segmentos"}),m.jsx(ze,{value:"tecnologia",children:"Tecnologia"}),m.jsx(ze,{value:"saude",children:"Saúde"}),m.jsx(ze,{value:"educacao",children:"Educação"}),m.jsx(ze,{value:"comercio",children:"Comércio"}),m.jsx(ze,{value:"servicos",children:"Serviços"})]})]})]})})]}),m.jsxs(tr,{value:_,onValueChange:C,className:"space-y-6",children:[m.jsxs(rr,{className:"grid w-full grid-cols-3",children:[m.jsxs(nr,{value:"landing-pages",className:"flex items-center gap-2",children:[m.jsx(xe,{className:"w-4 h-4"}),"Landing Pages (",A.totalLandingPages,")"]}),m.jsxs(nr,{value:"institutional",className:"flex items-center gap-2",children:[m.jsx(oe,{className:"w-4 h-4"}),"Sites Institucionais (",A.totalInstitutional,")"]}),m.jsxs(nr,{value:"captation",className:"flex items-center gap-2",children:[m.jsx(Pe,{className:"w-4 h-4"}),"Checklists de Captação"]})]}),m.jsx(ir,{value:"landing-pages",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Briefings de Landing Pages (",i.length,")"]}),m.jsxs(se,{className:"gap-2",children:[m.jsx(Ae,{className:"w-4 h-4"}),"Exportar"]})]}),0===i.length?m.jsx(J,{children:m.jsxs(ee,{className:"flex flex-col items-center justify-center py-12",children:[m.jsx(xe,{className:"w-12 h-12 text-gray-400 mb-4"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum briefing de landing page encontrado"}),m.jsx("p",{className:"text-gray-500 text-center max-w-md",children:0===s.length?"Ainda não há briefings de landing pages enviados. Quando os clientes enviarem briefings, eles aparecerão aqui.":"Nenhum briefing corresponde aos filtros aplicados. Tente ajustar os critérios de busca."})]})}):m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map((e=>m.jsx(zt,{briefing:e,onUpdate:P,onDelete:E},e.id)))})]})}),m.jsx(ir,{value:"institutional",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Briefings de Sites Institucionais (",o.length,")"]}),m.jsxs(se,{className:"gap-2",children:[m.jsx(Ae,{className:"w-4 h-4"}),"Exportar"]})]}),0===o.length?m.jsx(J,{children:m.jsxs(ee,{className:"flex flex-col items-center justify-center py-12",children:[m.jsx(oe,{className:"w-12 h-12 text-gray-400 mb-4"}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum briefing institucional encontrado"}),m.jsx("p",{className:"text-gray-500 text-center max-w-md",children:0===r.length?"Ainda não há briefings de sites institucionais enviados. Quando os clientes enviarem briefings, eles aparecerão aqui.":"Nenhum briefing corresponde aos filtros aplicados. Tente ajustar os critérios de busca."})]})}):m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:o.map((e=>m.jsx(zt,{briefing:e,onUpdate:D,onDelete:k},e.id)))})]})}),m.jsx(ir,{value:"captation",children:m.jsx(gr,{})})]})]})]})};export{fr as default};
