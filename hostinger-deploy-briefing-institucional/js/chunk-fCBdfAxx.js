var e=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(r,s,t)=>s in r?e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t,l=(e,r)=>{for(var s in r||(r={}))a.call(r,s)&&n(e,s,r[s]);if(t)for(var s of t(r))o.call(r,s)&&n(e,s,r[s]);return e},i=(e,t)=>r(e,s(t)),c=(e,r)=>{var s={};for(var n in e)a.call(e,n)&&r.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&t)for(var n of t(e))r.indexOf(n)<0&&o.call(e,n)&&(s[n]=e[n]);return s};import{o as u,r as d,a as m}from"./chunk-mPzFtRsV.js";import{j as f,P as p}from"./chunk-CL9ZPWFf.js";import{r as v}from"./chunk-COwh6yNZ.js";import{c as x}from"../assets/index-BD8G9NpO.js";import{U as h,X as w,I as N,V as g,F as j}from"./chunk-CaFFUM9v.js";var b=function(e,r){for(var s={};e.length;){var t=e[0],a=t.code,o=t.message,n=t.path.join(".");if(!s[n])if("unionErrors"in t){var l=t.unionErrors[0].errors[0];s[n]={message:l.message,type:l.code}}else s[n]={message:o,type:a};if("unionErrors"in t&&t.unionErrors.forEach((function(r){return r.errors.forEach((function(r){return e.push(r)}))})),r){var i=s[n].types,c=i&&i[t.code];s[n]=m(n,r,s,a,c?[].concat(c,t.message):t.message)}e.shift()}return s},y=function(e,r,s){return void 0===s&&(s={}),function(t,a,o){try{return Promise.resolve(function(a,n){try{var l=Promise.resolve(e["sync"===s.mode?"parse":"parseAsync"](t,r)).then((function(e){return o.shouldUseNativeValidation&&u({},o),{errors:{},values:s.raw?t:e}}))}catch(i){return n(i)}return l&&l.then?l.then(void 0,n):l}(0,(function(e){if(r=e,Array.isArray(null==r?void 0:r.errors))return{values:{},errors:d(b(e.errors,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)};var r;throw e})))}catch(n){return Promise.reject(n)}}};function k(...e){const r=e[0];if(1===e.length)return r;const s=()=>{const s=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const t=s.reduce(((r,{useScope:s,scopeName:t})=>{const a=s(e)[`__scope${t}`];return l(l({},r),a)}),{});return v.useMemo((()=>({[`__scope${r.scopeName}`]:t})),[t])}};return s.scopeName=r.scopeName,s}var P="Progress",[_,O]=function(e,r=[]){let s=[];const t=()=>{const r=s.map((e=>v.createContext(e)));return function(s){const t=(null==s?void 0:s[e])||r;return v.useMemo((()=>({[`__scope${e}`]:i(l({},s),{[e]:t})})),[s,t])}};return t.scopeName=e,[function(r,t){const a=v.createContext(t),o=s.length;function n(r){const s=r,{scope:t,children:n}=s,l=c(s,["scope","children"]),i=(null==t?void 0:t[e][o])||a,u=v.useMemo((()=>l),Object.values(l));return f.jsx(i.Provider,{value:u,children:n})}return s=[...s,t],n.displayName=r+"Provider",[n,function(s,n){const l=(null==n?void 0:n[e][o])||a,i=v.useContext(l);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${s}\` must be used within \`${r}\``)}]},k(t,...r)]}(P),[E,C]=_(P),$=v.forwardRef(((e,r)=>{const s=e,{__scopeProgress:t,value:a=null,max:o,getValueLabel:n=A}=s,u=c(s,["__scopeProgress","value","max","getValueLabel"]);(o||0===o)&&R(o);const d=R(o)?o:100;null!==a&&S(a,d);const m=S(a,d)?a:null,v=F(m)?n(m,d):void 0;return f.jsx(E,{scope:t,value:m,max:d,children:f.jsx(p.div,i(l({"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":F(m)?m:void 0,"aria-valuetext":v,role:"progressbar","data-state":V(m,d),"data-value":null!=m?m:void 0,"data-max":d},u),{ref:r}))})}));$.displayName=P;var M="ProgressIndicator",q=v.forwardRef(((e,r)=>{var s;const t=e,{__scopeProgress:a}=t,o=c(t,["__scopeProgress"]),n=C(M,a);return f.jsx(p.div,i(l({"data-state":V(n.value,n.max),"data-value":null!=(s=n.value)?s:void 0,"data-max":n.max},o),{ref:r}))}));function A(e,r){return`${Math.round(e/r*100)}%`}function V(e,r){return null==e?"indeterminate":e===r?"complete":"loading"}function F(e){return"number"==typeof e}function R(e){return F(e)&&!isNaN(e)&&e>0}function S(e,r){return F(e)&&!isNaN(e)&&e<=r&&e>=0}q.displayName=M;var I=$,U=q;const z=v.forwardRef(((e,r)=>{var s=e,{className:t,value:a}=s,o=c(s,["className","value"]);return f.jsx(I,i(l({ref:r,className:x("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t)},o),{children:f.jsx(U,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}))}));z.displayName=I.displayName;const D=({id:e,accept:r,multiple:s=!1,onChange:t,label:a,description:o,className:n=""})=>{const[l,i]=v.useState([]),c=e=>e.type.startsWith("image/")?f.jsx(N,{className:"w-4 h-4 text-blue-500"}):e.type.startsWith("video/")?f.jsx(g,{className:"w-4 h-4 text-purple-500"}):f.jsx(j,{className:"w-4 h-4 text-gray-500"});return f.jsxs("div",{className:n,children:[f.jsx("label",{className:"block text-sm font-medium text-workflow-deep mb-2",children:a}),f.jsx("input",{type:"file",accept:r,multiple:s,className:"hidden",id:e,onChange:e=>{const r=e.target.files;if(r){const e=Array.from(r);i(e),t(r)}}}),f.jsxs("label",{htmlFor:e,className:"block border-2 border-dashed border-workflow-deep/20 rounded-lg p-6 text-center hover:border-workflow-energy/50 transition-colors cursor-pointer hover:bg-workflow-energy/5",children:[f.jsx(h,{className:"w-8 h-8 text-workflow-deep/40 mx-auto mb-2"}),f.jsx("span",{className:"text-sm text-workflow-deep/70 block",children:"Clique para fazer upload ou arraste arquivos aqui"}),f.jsx("p",{className:"text-xs text-workflow-deep/50 mt-1",children:o})]}),l.length>0&&f.jsxs("div",{className:"mt-4 space-y-2",children:[f.jsxs("p",{className:"text-sm font-medium text-workflow-deep",children:["Arquivos selecionados (",l.length,"):"]}),f.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2",children:l.map(((e,r)=>f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-workflow-energy/10 rounded-lg border border-workflow-energy/20",children:[c(e),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium text-workflow-deep truncate",children:e.name}),f.jsxs("p",{className:"text-xs text-workflow-deep/60",children:[(e.size/1024/1024).toFixed(2)," MB"]})]}),f.jsx("button",{type:"button",onClick:()=>(e=>{const r=l.filter(((r,s)=>s!==e));i(r);const s=new DataTransfer;r.forEach((e=>s.items.add(e))),t(s.files)})(r),className:"p-1 hover:bg-red-100 rounded-full transition-colors",title:"Remover arquivo",children:f.jsx(w,{className:"w-4 h-4 text-red-500"})})]},r)))})]})]})};export{D as F,z as P,y as t};
